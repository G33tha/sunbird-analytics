"use strict";angular.module("d3",[]);"use strict";angular.module("d3").factory("d3",[function(){var fK;var eN=Math.PI,eY=0.000001,fK={version:"3.0.8"},D=eN/180,fW=180/eN,bb=document,ei=window;function f9(e){return e.target}function f0(e){return e.source}var fp=".",dI=",",g=[3,3];if(!Date.now){Date.now=function(){return +new Date()}}try{bb.createElement("div").style.setProperty("opacity",0,"")}catch(ef){var cz=ei.CSSStyleDeclaration.prototype,fg=cz.setProperty;cz.setProperty=function(e,gq,d3){fg.call(this,e,gq+"",d3)}}function gi(gr,gq){try{for(var d3 in gq){Object.defineProperty(gr.prototype,d3,{value:gq[d3],enumerable:false})}}catch(gs){gr.prototype=gq}}var cM=bc;function gf(d3){var e=-1,gr=d3.length,gq=[];while(++e<gr){gq.push(d3[e])}return gq}function bc(e){return Array.prototype.slice.call(e)}try{cM(bb.documentElement.childNodes)[0].nodeType}catch(fC){cM=gf}var dB=[].__proto__?function(d3,e){d3.__proto__=e}:function(gq,e){for(var d3 in e){gq[d3]=e[d3]}};fK.map=function(e){var gq=new an();for(var d3 in e){gq.set(d3,e[d3])}return gq};function an(){}gi(an,{has:function(e){return gk+e in this},get:function(e){return this[gk+e]},set:function(e,d3){return this[gk+e]=d3},remove:function(e){e=gk+e;return e in this&&delete this[e]},keys:function(){var e=[];this.forEach(function(d3){e.push(d3)});return e},values:function(){var e=[];this.forEach(function(d3,gq){e.push(gq)});return e},entries:function(){var e=[];this.forEach(function(d3,gq){e.push({key:d3,value:gq})});return e},forEach:function(d3){for(var e in this){if(e.charCodeAt(0)===cD){d3.call(this,e.substring(1),this[e])}}}});var gk="\0",cD=gk.charCodeAt(0);function eX(e){return e}function W(){return true}function L(e){return typeof e==="function"?e:function(){return e}}fK.functor=L;fK.rebind=function(gq,d3){var e=1,gs=arguments.length,gr;while(++e<gs){gq[gr=arguments[e]]=dg(gq,d3,d3[gr])}return gq};function dg(d3,e,gq){return function(){var gr=gq.apply(e,arguments);return gr===e?d3:gr}}fK.ascending=function(d3,e){return d3<e?-1:d3>e?1:d3>=e?0:NaN};fK.descending=function(d3,e){return e<d3?-1:e>d3?1:e>=d3?0:NaN};fK.mean=function(gu,gs){var gt=gu.length,d3,e=0,gr=-1,gq=0;if(arguments.length===1){while(++gr<gt){if(fO(d3=gu[gr])){e+=(d3-e)/++gq}}}else{while(++gr<gt){if(fO(d3=gs.call(gu,gu[gr],gr))){e+=(d3-e)/++gq}}}return gq?e:undefined};fK.median=function(d3,e){if(arguments.length>1){d3=d3.map(e)}d3=d3.filter(fO);return d3.length?fK.quantile(d3.sort(fK.ascending),0.5):undefined};fK.min=function(gt,gr){var gq=-1,gs=gt.length,d3,e;if(arguments.length===1){while(++gq<gs&&((d3=gt[gq])==null||d3!=d3)){d3=undefined}while(++gq<gs){if((e=gt[gq])!=null&&d3>e){d3=e}}}else{while(++gq<gs&&((d3=gr.call(gt,gt[gq],gq))==null||d3!=d3)){d3=undefined}while(++gq<gs){if((e=gr.call(gt,gt[gq],gq))!=null&&d3>e){d3=e}}}return d3};fK.max=function(gt,gr){var gq=-1,gs=gt.length,d3,e;if(arguments.length===1){while(++gq<gs&&((d3=gt[gq])==null||d3!=d3)){d3=undefined}while(++gq<gs){if((e=gt[gq])!=null&&e>d3){d3=e}}}else{while(++gq<gs&&((d3=gr.call(gt,gt[gq],gq))==null||d3!=d3)){d3=undefined}while(++gq<gs){if((e=gr.call(gt,gt[gq],gq))!=null&&e>d3){d3=e}}}return d3};fK.extent=function(gu,gr){var gq=-1,gt=gu.length,d3,e,gs;if(arguments.length===1){while(++gq<gt&&((d3=gs=gu[gq])==null||d3!=d3)){d3=gs=undefined}while(++gq<gt){if((e=gu[gq])!=null){if(d3>e){d3=e}if(gs<e){gs=e}}}}else{while(++gq<gt&&((d3=gs=gr.call(gu,gu[gq],gq))==null||d3!=d3)){d3=undefined}while(++gq<gt){if((e=gr.call(gu,gu[gq],gq))!=null){if(d3>e){d3=e}if(gs<e){gs=e}}}}return[d3,gs]};fK.random={normal:function(d3,e){var gq=arguments.length;if(gq<2){e=1}if(gq<1){d3=0}return function(){var gr,gt,gs;do{gr=Math.random()*2-1;gt=Math.random()*2-1;gs=gr*gr+gt*gt}while(!gs||gs>1);return d3+e*gr*Math.sqrt(-2*Math.log(gs)/gs)}},logNormal:function(){var e=fK.random.normal.apply(fK,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var gq=0,d3=0;d3<e;d3++){gq+=Math.random()}return gq/e}}};function fO(e){return e!=null&&!isNaN(e)}fK.sum=function(gt,gr){var gq=0,gs=gt.length,e,d3=-1;if(arguments.length===1){while(++d3<gs){if(!isNaN(e=+gt[d3])){gq+=e}}}else{while(++d3<gs){if(!isNaN(e=+gr.call(gt,gt[d3],d3))){gq+=e}}}return gq};fK.quantile=function(gq,gu){var gr=(gq.length-1)*gu+1,gs=Math.floor(gr),d3=+gq[gs-1],gt=gr-gs;return gt?d3+gt*(gq[gs]-d3):d3};fK.shuffle=function(gr){var e=gr.length,gq,d3;while(e){d3=Math.random()*e--|0;gq=gr[e],gr[e]=gr[d3],gr[d3]=gq}return gr};fK.transpose=function(e){return fK.zip.apply(fK,e)};fK.zip=function(){if(!(gt=arguments.length)){return[]}for(var gr=-1,e=fK.min(arguments,dY),gq=new Array(e);++gr<e;){for(var d3=-1,gt,gs=gq[gr]=new Array(gt);++d3<gt;){gs[d3]=arguments[d3][gr]}}return gq};function dY(e){return e.length}fK.bisector=function(e){return{left:function(gq,d3,gt,gs){if(arguments.length<3){gt=0}if(arguments.length<4){gs=gq.length}while(gt<gs){var gr=gt+gs>>>1;if(e.call(gq,gq[gr],gr)<d3){gt=gr+1}else{gs=gr}}return gt},right:function(gq,d3,gt,gs){if(arguments.length<3){gt=0}if(arguments.length<4){gs=gq.length}while(gt<gs){var gr=gt+gs>>>1;if(d3<e.call(gq,gq[gr],gr)){gs=gr}else{gt=gr+1}}return gt}}};var e0=fK.bisector(function(e){return e});fK.bisectLeft=e0.left;fK.bisect=fK.bisectRight=e0.right;fK.nest=function(){var gr={},gq=[],gu=[],d3,gs;function gt(gC,gA){if(gA>=gq.length){return gs?gs.call(gr,gC):d3?gC.sort(d3):gC}var gB=-1,gw=gC.length,gE=gq[gA++],gz,gy,gx=new an(),gD,gv={};while(++gB<gw){if(gD=gx.get(gz=gE(gy=gC[gB]))){gD.push(gy)}else{gx.set(gz,[gy])}}gx.forEach(function(gG,gF){gv[gG]=gt(gF,gA)});return gv}function e(gy,gz){if(gz>=gq.length){return gy}var gv=[],gw=gu[gz++],gx;for(gx in gy){gv.push({key:gx,values:e(gy[gx],gz)})}if(gw){gv.sort(function(gB,gA){return gw(gB.key,gA.key)})}return gv}gr.map=function(gv){return gt(gv,0)};gr.entries=function(gv){return e(gt(gv,0),0)};gr.key=function(gv){gq.push(gv);return gr};gr.sortKeys=function(gv){gu[gq.length-1]=gv;return gr};gr.sortValues=function(gv){d3=gv;return gr};gr.rollup=function(gv){gs=gv;return gr};return gr};fK.keys=function(gq){var d3=[];for(var e in gq){d3.push(e)}return d3};fK.values=function(gq){var e=[];for(var d3 in gq){e.push(gq[d3])}return e};fK.entries=function(gq){var e=[];for(var d3 in gq){e.push({key:d3,value:gq[d3]})}return e};fK.permute=function(gs,d3){var e=[],gq=-1,gr=d3.length;while(++gq<gr){e[gq]=gs[d3[gq]]}return e};fK.merge=function(e){return Array.prototype.concat.apply([],e)};function bY(e){return e.trim().replace(/\s+/g," ")}fK.range=function(gu,gs,gt){if(arguments.length<3){gt=1;if(arguments.length<2){gs=gu;gu=0}}if((gs-gu)/gt===Infinity){throw new Error("infinite range")}var d3=[],e=eW(Math.abs(gt)),gr=-1,gq;gu*=e,gs*=e,gt*=e;if(gt<0){while((gq=gu+gt*++gr)>gs){d3.push(gq/e)}}else{while((gq=gu+gt*++gr)<gs){d3.push(gq/e)}}return d3};function eW(e){var d3=1;while(e*d3%1){d3*=10}return d3}fK.requote=function(e){return e.replace(cl,"\\$&")};var cl=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;fK.round=function(e,d3){return d3?Math.round(e*(d3=Math.pow(10,d3)))/d3:Math.round(e)};fK.xhr=function(e,gq,gv){var gw={},gu=fK.dispatch("progress","load","error"),gr={},gs=eX,gt=new (ei.XDomainRequest&&/^(http(s)?:)?\/\//.test(e)?XDomainRequest:XMLHttpRequest)();"onload" in gt?gt.onload=gt.onerror=d3:gt.onreadystatechange=function(){gt.readyState>3&&d3()};function d3(){var gx=gt.status;!gx&&gt.responseText||gx>=200&&gx<300||gx===304?gu.load.call(gw,gs.call(gw,gt)):gu.error.call(gw,gt)}gt.onprogress=function(gx){var gy=fK.event;fK.event=gx;try{gu.progress.call(gw,gt)}finally{fK.event=gy}};gw.header=function(gx,gy){gx=(gx+"").toLowerCase();if(arguments.length<2){return gr[gx]}if(gy==null){delete gr[gx]}else{gr[gx]=gy+""}return gw};gw.mimeType=function(gx){if(!arguments.length){return gq}gq=gx==null?null:gx+"";return gw};gw.response=function(gx){gs=gx;return gw};["get","post"].forEach(function(gx){gw[gx]=function(){return gw.send.apply(gw,[gx].concat(cM(arguments)))}});gw.send=function(gA,gy,gz){if(arguments.length===2&&typeof gy==="function"){gz=gy,gy=null}gt.open(gA,e,true);if(gq!=null&&!("accept" in gr)){gr.accept=gq+",*/*"}if(gt.setRequestHeader){for(var gx in gr){gt.setRequestHeader(gx,gr[gx])}}if(gq!=null&&gt.overrideMimeType){gt.overrideMimeType(gq)}if(gz!=null){gw.on("error",gz).on("load",function(gB){gz(null,gB)})}gt.send(gy==null?null:gy);return gw};gw.abort=function(){gt.abort();return gw};fK.rebind(gw,gu,"on");if(arguments.length===2&&typeof gq==="function"){gv=gq,gq=null}return gv==null?gw:gw.get(c0(gv))};function c0(e){return e.length===1?function(d3,gq){e(d3==null?gq:null)}:e}fK.text=function(){return fK.xhr.apply(fK,arguments).response(ba)};function ba(e){return e.responseText}fK.json=function(e,d3){return fK.xhr(e,"application/json",d3).response(cL)};function cL(e){return JSON.parse(e.responseText)}fK.html=function(e,d3){return fK.xhr(e,"text/html",d3).response(gp)};function gp(d3){var e=bb.createRange();e.selectNode(bb.body);return e.createContextualFragment(d3.responseText)}fK.xml=function(){return fK.xhr.apply(fK,arguments).response(e5)};function e5(e){return e.responseXML}var c3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};fK.ns={prefix:c3,qualify:function(e){var d3=e.indexOf(":"),gq=e;if(d3>=0){gq=e.substring(0,d3);e=e.substring(d3+1)}return c3.hasOwnProperty(gq)?{space:c3[gq],local:e}:e}};fK.dispatch=function(){var e=new dx(),d3=-1,gq=arguments.length;while(++d3<gq){e[arguments[d3]]=d4(e)}return e};function dx(){}dx.prototype.on=function(gq,gr){var d3=gq.indexOf("."),e="";if(d3>0){e=gq.substring(d3+1);gq=gq.substring(0,d3)}return arguments.length<2?this[gq].on(e):this[gq].on(e,gr)};function d4(e){var gq=[],d3=new an();function gr(){var gu=gq,gt=-1,gv=gu.length,gs;while(++gt<gv){if(gs=gu[gt].on){gs.apply(this,arguments)}}return e}gr.on=function(gt,gv){var gs=d3.get(gt),gu;if(arguments.length<2){return gs&&gs.on}if(gs){gs.on=null;gq=gq.slice(0,gu=gq.indexOf(gs)).concat(gq.slice(gu+1));d3.remove(gt)}if(gv){gq.push(d3.set(gt,{on:gv}))}return e};return gr}fK.format=function(gz){var gw=bQ.exec(gz),gB=gw[1]||" ",gx=gw[2]||">",gq=gw[3]||"",e=gw[4]||"",gs=gw[5],d3=+gw[6],gC=gw[7],gv=gw[8],gy=gw[9],gr=1,gA="",gu=false;if(gv){gv=+gv.substring(1)}if(gs||gB==="0"&&gx==="="){gs=gB="0";gx="=";if(gC){d3-=Math.floor((d3-1)/4)}}switch(gy){case"n":gC=true;gy="g";break;case"%":gr=100;gA="%";gy="f";break;case"p":gr=100;gA="%";gy="r";break;case"b":case"o":case"x":case"X":if(e){e="0"+gy.toLowerCase()}case"c":case"d":gu=true;gv=0;break;case"s":gr=-1;gy="r";break}if(e==="#"){e=""}if(gy=="r"&&!gv){gy="g"}gy=t.get(gy)||aU;var gt=gs&&gC;return function(gG){if(gu&&gG%1){return""}var gD=gG<0||gG===0&&1/gG<0?(gG=-gG,"-"):gq;if(gr<0){var gF=fK.formatPrefix(gG,gv);gG=gF.scale(gG);gA=gF.symbol}else{gG*=gr}gG=gy(gG,gv);if(!gs&&gC){gG=cp(gG)}var gE=e.length+gG.length+(gt?0:gD.length),gH=gE<d3?new Array(gE=d3-gE+1).join(gB):"";if(gt){gG=cp(gH+gG)}if(fp){gG.replace(".",fp)}gD+=e;return(gx==="<"?gD+gG+gH:gx===">"?gH+gD+gG:gx==="^"?gH.substring(0,gE>>=1)+gD+gG+gH.substring(gE):gD+(gt?gG:gH+gG))+gA}};var bQ=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/;var t=fK.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,d3){return e.toPrecision(d3)},e:function(e,d3){return e.toExponential(d3)},f:function(e,d3){return e.toFixed(d3)},r:function(e,d3){return(e=fK.round(e,c5(e,d3))).toFixed(Math.max(0,Math.min(20,c5(e*(1+1e-15),d3))))}});function c5(e,d3){return d3-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function aU(e){return e+""}var cp=eX;if(g){var bs=g.length;cp=function(gt){var gq=gt.lastIndexOf("."),gs=gq>=0?"."+gt.substring(gq+1):(gq=gt.length,""),d3=[],e=0,gr=g[0];while(gq>0&&gr>0){d3.push(gt.substring(gq-=gr,gq+gr));gr=g[e=(e+1)%bs]}return d3.reverse().join(dI||"")+gs}}var bM=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(cK);fK.formatPrefix=function(gq,e){var d3=0;if(gq){if(gq<0){gq*=-1}if(e){gq=fK.round(gq,c5(gq,e))}d3=1+Math.floor(1e-12+Math.log(gq)/Math.LN10);d3=Math.max(-24,Math.min(24,Math.floor((d3<=0?d3+1:d3-1)/3)*3))}return bM[8+d3/3]};function cK(gq,d3){var e=Math.pow(10,Math.abs(8-d3)*3);return{scale:d3>8?function(gr){return gr/e}:function(gr){return gr*e},symbol:gq}}var fH=function(){return eX};var T=fK.map({linear:fH,poly:az,quad:function(){return bl},cubic:function(){return E},sin:function(){return eO},exp:function(){return ed},circle:function(){return c1},elastic:R,back:fr,bounce:function(){return bB}});var i=fK.map({"in":eX,out:y,"in-out":aH,"out-in":function(e){return aH(y(e))}});fK.ease=function(d3){var gr=d3.indexOf("-"),gq=gr>=0?d3.substring(0,gr):d3,e=gr>=0?d3.substring(gr+1):"in";gq=T.get(gq)||fH;e=i.get(e)||eX;return ej(e(gq.apply(null,Array.prototype.slice.call(arguments,1))))};function ej(e){return function(d3){return d3<=0?0:d3>=1?1:e(d3)}}function y(e){return function(d3){return 1-e(1-d3)}}function aH(e){return function(d3){return 0.5*(d3<0.5?e(2*d3):2-e(2-2*d3))}}function bl(e){return e*e}function E(e){return e*e*e}function af(d3){if(d3<=0){return 0}if(d3>=1){return 1}var gq=d3*d3,e=gq*d3;return 4*(d3<0.5?e:3*(d3-gq)+e-0.75)}function az(d3){return function(e){return Math.pow(e,d3)}}function eO(e){return 1-Math.cos(e*eN/2)}function ed(e){return Math.pow(2,10*(e-1))}function c1(e){return 1-Math.sqrt(1-e*e)}function R(e,gq){var d3;if(arguments.length<2){gq=0.45}if(arguments.length){d3=gq/(2*eN)*Math.asin(1/e)}else{e=1,d3=gq/4}return function(gr){return 1+e*Math.pow(2,10*-gr)*Math.sin((gr-d3)*2*eN/gq)}}function fr(e){if(!e){e=1.70158}return function(d3){return d3*d3*((e+1)*d3-e)}}function bB(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}fK.event=null;function f1(){fK.event.stopPropagation();fK.event.preventDefault()}function U(){var gq=fK.event,d3;while(d3=gq.sourceEvent){gq=d3}return gq}function fG(gq){var e=new dx(),d3=0,gr=arguments.length;while(++d3<gr){e[arguments[d3]]=d4(e)}e.of=function(gt,gs){return function(gu){try{var gv=gu.sourceEvent=fK.event;gu.target=gq;fK.event=gu;e[gu.type].apply(gt,gs)}finally{fK.event=gv}}};return e}fK.transform=function(e){var d3=bb.createElementNS(fK.ns.prefix.svg,"g");return(fK.transform=function(gq){d3.setAttribute("transform",gq);var gr=d3.transform.baseVal.consolidate();return new n(gr?gr.matrix:eK)})(e)};function n(e){var gr=[e.a,e.b],d3=[e.c,e.d],gt=eb(gr),gq=dC(gr,d3),gs=eb(bg(d3,gr,-gq))||0;if(gr[0]*d3[1]<d3[0]*gr[1]){gr[0]*=-1;gr[1]*=-1;gt*=-1;gq*=-1}this.rotate=(gt?Math.atan2(gr[1],gr[0]):Math.atan2(-d3[0],d3[1]))*fW;this.translate=[e.e,e.f];this.scale=[gt,gs];this.skew=gs?Math.atan2(gq,gs)*fW:0}n.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function dC(d3,e){return d3[0]*e[0]+d3[1]*e[1]}function eb(e){var d3=Math.sqrt(dC(e,e));if(d3){e[0]/=d3;e[1]/=d3}return d3}function bg(d3,e,gq){d3[0]+=gq*e[0];d3[1]+=gq*e[1];return d3}var eK={a:1,b:0,c:0,d:1,e:0,f:0};fK.interpolate=function(d3,e){var gq=fK.interpolators.length,gr;while(--gq>=0&&!(gr=fK.interpolators[gq](d3,e))){}return gr};fK.interpolateNumber=function(d3,e){e-=d3;return function(gq){return d3+e*gq}};fK.interpolateRound=function(d3,e){e-=d3;return function(gq){return Math.round(d3+e*gq)}};fK.interpolateString=function(gv,gu){var gr,gt,gs,gx=0,gw=0,gy=[],e=[],gq,d3;ex.lastIndex=0;for(gt=0;gr=ex.exec(gu);++gt){if(gr.index){gy.push(gu.substring(gx,gw=gr.index))}e.push({i:gy.length,x:gr[0]});gy.push(null);gx=ex.lastIndex}if(gx<gu.length){gy.push(gu.substring(gx))}for(gt=0,gq=e.length;(gr=ex.exec(gv))&&gt<gq;++gt){d3=e[gt];if(d3.x==gr[0]){if(d3.i){if(gy[d3.i+1]==null){gy[d3.i-1]+=d3.x;gy.splice(d3.i,1);for(gs=gt+1;gs<gq;++gs){e[gs].i--}}else{gy[d3.i-1]+=d3.x+gy[d3.i+1];gy.splice(d3.i,2);for(gs=gt+1;gs<gq;++gs){e[gs].i-=2}}}else{if(gy[d3.i+1]==null){gy[d3.i]=d3.x}else{gy[d3.i]=d3.x+gy[d3.i+1];gy.splice(d3.i+1,1);for(gs=gt+1;gs<gq;++gs){e[gs].i--}}}e.splice(gt,1);gq--;gt--}else{d3.x=fK.interpolateNumber(parseFloat(gr[0]),parseFloat(d3.x))}}while(gt<gq){d3=e.pop();if(gy[d3.i+1]==null){gy[d3.i]=d3.x}else{gy[d3.i]=d3.x+gy[d3.i+1];gy.splice(d3.i+1,1)}gq--}if(gy.length===1){return gy[0]==null?e[0].x:function(){return gu}}return function(gz){for(gt=0;gt<gq;++gt){gy[(d3=e[gt]).i]=d3.x(gz)}return gy.join("")}};fK.interpolateTransform=function(gB,gA){var gC=[],d3=[],gt,gs=fK.transform(gB),gr=fK.transform(gA),gx=gs.translate,gw=gr.translate,gq=gs.rotate,e=gr.rotate,gv=gs.skew,gu=gr.skew,gz=gs.scale,gy=gr.scale;if(gx[0]!=gw[0]||gx[1]!=gw[1]){gC.push("translate(",null,",",null,")");d3.push({i:1,x:fK.interpolateNumber(gx[0],gw[0])},{i:3,x:fK.interpolateNumber(gx[1],gw[1])})}else{if(gw[0]||gw[1]){gC.push("translate("+gw+")")}else{gC.push("")}}if(gq!=e){if(gq-e>180){e+=360}else{if(e-gq>180){gq+=360}}d3.push({i:gC.push(gC.pop()+"rotate(",null,")")-2,x:fK.interpolateNumber(gq,e)})}else{if(e){gC.push(gC.pop()+"rotate("+e+")")}}if(gv!=gu){d3.push({i:gC.push(gC.pop()+"skewX(",null,")")-2,x:fK.interpolateNumber(gv,gu)})}else{if(gu){gC.push(gC.pop()+"skewX("+gu+")")}}if(gz[0]!=gy[0]||gz[1]!=gy[1]){gt=gC.push(gC.pop()+"scale(",null,",",null,")");d3.push({i:gt-4,x:fK.interpolateNumber(gz[0],gy[0])},{i:gt-2,x:fK.interpolateNumber(gz[1],gy[1])})}else{if(gy[0]!=1||gy[1]!=1){gC.push(gC.pop()+"scale("+gy+")")}}gt=d3.length;return function(gE){var gD=-1,gF;while(++gD<gt){gC[(gF=d3[gD]).i]=gF.x(gE)}return gC.join("")}};fK.interpolateRgb=function(d3,e){d3=fK.rgb(d3);e=fK.rgb(e);var gr=d3.r,gq=d3.g,gu=d3.b,gt=e.r-gr,gs=e.g-gq,gv=e.b-gu;return function(gw){return"#"+bN(Math.round(gr+gt*gw))+bN(Math.round(gq+gs*gw))+bN(Math.round(gu+gv*gw))}};fK.interpolateHsl=function(gq,e){gq=fK.hsl(gq);e=fK.hsl(e);var gv=gq.h,gu=gq.s,gr=gq.l,gt=e.h-gv,gs=e.s-gu,d3=e.l-gr;if(gt>180){gt-=360}else{if(gt<-180){gt+=360}}return function(gw){return aQ(gv+gt*gw,gu+gs*gw,gr+d3*gw)+""}};fK.interpolateLab=function(d3,e){d3=fK.lab(d3);e=fK.lab(e);var gs=d3.l,gr=d3.a,gq=d3.b,gv=e.l-gs,gu=e.a-gr,gt=e.b-gq;return function(gw){return aj(gs+gv*gw,gr+gu*gw,gq+gt*gw)+""}};fK.interpolateHcl=function(gq,e){gq=fK.hcl(gq);e=fK.hcl(e);var d3=gq.h,gs=gq.c,gu=gq.l,gr=e.h-d3,gt=e.c-gs,gv=e.l-gu;if(gr>180){gr-=360}else{if(gr<-180){gr+=360}}return function(gw){return a6(d3+gr*gw,gs+gt*gw,gu+gv*gw)+""}};fK.interpolateArray=function(gs,gq){var d3=[],gv=[],gr=gs.length,e=gq.length,gu=Math.min(gs.length,gq.length),gt;for(gt=0;gt<gu;++gt){d3.push(fK.interpolate(gs[gt],gq[gt]))}for(;gt<gr;++gt){gv[gt]=gs[gt]}for(;gt<e;++gt){gv[gt]=gq[gt]}return function(gw){for(gt=0;gt<gu;++gt){gv[gt]=d3[gt](gw)}return gv}};fK.interpolateObject=function(d3,e){var gr={},gs={},gq;for(gq in d3){if(gq in e){gr[gq]=ee(gq)(d3[gq],e[gq])}else{gs[gq]=d3[gq]}}for(gq in e){if(!(gq in d3)){gs[gq]=e[gq]}}return function(gt){for(gq in gr){gs[gq]=gr[gq](gt)}return gs}};var ex=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function ee(e){return e=="transform"?fK.interpolateTransform:fK.interpolate}fK.interpolators=[fK.interpolateObject,function(d3,e){return e instanceof Array&&fK.interpolateArray(d3,e)},function(d3,e){return(typeof d3==="string"||typeof e==="string")&&fK.interpolateString(d3+"",e+"")},function(d3,e){return(typeof e==="string"?X.has(e)||/^(#|rgb\(|hsl\()/.test(e):e instanceof B)&&fK.interpolateRgb(d3,e)},function(d3,e){return !isNaN(d3=+d3)&&!isNaN(e=+e)&&fK.interpolateNumber(d3,e)}];function fR(d3,e){e=e-(d3=+d3)?1/(e-d3):0;return function(gq){return(gq-d3)*e}}function ah(d3,e){e=e-(d3=+d3)?1/(e-d3):0;return function(gq){return Math.max(0,Math.min(1,(gq-d3)*e))}}function B(){}B.prototype.toString=function(){return this.rgb()+""};fK.rgb=function(gq,d3,e){return arguments.length===1?gq instanceof dQ?da(gq.r,gq.g,gq.b):aB(""+gq,da,aQ):da(~~gq,~~d3,~~e)};function da(gq,d3,e){return new dQ(gq,d3,e)}function dQ(gq,d3,e){this.r=gq;this.g=d3;this.b=e}var dp=dQ.prototype=new B();dp.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);var gs=this.r,gr=this.g,e=this.b,gq=30;if(!gs&&!gr&&!e){return da(gq,gq,gq)}if(gs&&gs<gq){gs=gq}if(gr&&gr<gq){gr=gq}if(e&&e<gq){e=gq}return da(Math.min(255,Math.floor(gs/d3)),Math.min(255,Math.floor(gr/d3)),Math.min(255,Math.floor(e/d3)))};dp.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return da(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))};dp.hsl=function(){return e6(this.r,this.g,this.b)};dp.toString=function(){return"#"+bN(this.r)+bN(this.g)+bN(this.b)};function bN(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function aB(gt,gr,gu){var e=0,gq=0,gs=0,gw,gv,d3;gw=/([a-z]+)\((.*)\)/i.exec(gt);if(gw){gv=gw[2].split(",");switch(gw[1]){case"hsl":return gu(parseFloat(gv[0]),parseFloat(gv[1])/100,parseFloat(gv[2])/100);case"rgb":return gr(dA(gv[0]),dA(gv[1]),dA(gv[2]))}}if(d3=X.get(gt)){return gr(d3.r,d3.g,d3.b)}if(gt!=null&&gt.charAt(0)==="#"){if(gt.length===4){e=gt.charAt(1);e+=e;gq=gt.charAt(2);gq+=gq;gs=gt.charAt(3);gs+=gs}else{if(gt.length===7){e=gt.substring(1,3);gq=gt.substring(3,5);gs=gt.substring(5,7)}}e=parseInt(e,16);gq=parseInt(gq,16);gs=parseInt(gs,16)}return gr(e,gq,gs)}function e6(e,gs,gu){var gq=Math.min(e/=255,gs/=255,gu/=255),gv=Math.max(e,gs,gu),gt=gv-gq,gr,gw,d3=(gv+gq)/2;if(gt){gw=d3<0.5?gt/(gv+gq):gt/(2-gv-gq);if(e==gv){gr=(gs-gu)/gt+(gs<gu?6:0)}else{if(gs==gv){gr=(gu-e)/gt+2}else{gr=(e-gs)/gt+4}}gr*=60}else{gw=gr=0}return dn(gr,gw,d3)}function cW(gr,gq,d3){gr=cC(gr);gq=cC(gq);d3=cC(d3);var e=e1((0.4124564*gr+0.3575761*gq+0.1804375*d3)/aR),gt=e1((0.2126729*gr+0.7151522*gq+0.072175*d3)/aO),gs=e1((0.0193339*gr+0.119192*gq+0.9503041*d3)/aM);return bF(116*gt-16,500*(e-gt),200*(gt-gs))}function cC(e){return(e/=255)<=0.04045?e/12.92:Math.pow((e+0.055)/1.055,2.4)}function dA(d3){var e=parseFloat(d3);return d3.charAt(d3.length-1)==="%"?Math.round(e*2.55):e}var X=fK.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});X.forEach(function(e,d3){X.set(e,aB(d3,da,aQ))});fK.hsl=function(gq,d3,e){return arguments.length===1?gq instanceof ec?dn(gq.h,gq.s,gq.l):aB(""+gq,e6,dn):dn(+gq,+d3,+e)};function dn(gq,d3,e){return new ec(gq,d3,e)}function ec(gq,d3,e){this.h=gq;this.s=d3;this.l=e}var df=ec.prototype=new B();df.brighter=function(e){e=Math.pow(0.7,arguments.length?e:1);return dn(this.h,this.s,this.l/e)};df.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return dn(this.h,this.s,e*this.l)};df.rgb=function(){return aQ(this.h,this.s,this.l)};function aQ(gt,gs,e){var gr,gq;gt=gt%360;if(gt<0){gt+=360}gs=gs<0?0:gs>1?1:gs;e=e<0?0:e>1?1:e;gq=e<=0.5?e*(1+gs):e+gs-e*gs;gr=2*e-gq;function d3(gv){if(gv>360){gv-=360}else{if(gv<0){gv+=360}}if(gv<60){return gr+(gq-gr)*gv/60}if(gv<180){return gq}if(gv<240){return gr+(gq-gr)*(240-gv)/60}return gr}function gu(gv){return Math.round(d3(gv)*255)}return da(gu(gt+120),gu(gt),gu(gt-120))}fK.hcl=function(d3,gq,e){return arguments.length===1?d3 instanceof bL?a5(d3.h,d3.c,d3.l):d3 instanceof ck?fd(d3.l,d3.a,d3.b):fd((d3=cW((d3=fK.rgb(d3)).r,d3.g,d3.b)).l,d3.a,d3.b):a5(+d3,+gq,+e)};function a5(d3,gq,e){return new bL(d3,gq,e)}function bL(d3,gq,e){this.h=d3;this.c=gq;this.l=e}var fF=bL.prototype=new B();fF.brighter=function(e){return a5(this.h,this.c,Math.min(100,this.l+aY*(arguments.length?e:1)))};fF.darker=function(e){return a5(this.h,this.c,Math.max(0,this.l-aY*(arguments.length?e:1)))};fF.rgb=function(){return a6(this.h,this.c,this.l).rgb()};function a6(d3,gq,e){return bF(e,Math.cos(d3*=D)*gq,Math.sin(d3)*gq)}fK.lab=function(gq,d3,e){return arguments.length===1?gq instanceof ck?bF(gq.l,gq.a,gq.b):gq instanceof bL?a6(gq.l,gq.c,gq.h):cW((gq=fK.rgb(gq)).r,gq.g,gq.b):bF(+gq,+d3,+e)};function bF(gq,d3,e){return new ck(gq,d3,e)}function ck(gq,d3,e){this.l=gq;this.a=d3;this.b=e}var aY=18;var aR=0.95047,aO=1,aM=1.08883;var e8=ck.prototype=new B();e8.brighter=function(e){return bF(Math.min(100,this.l+aY*(arguments.length?e:1)),this.a,this.b)};e8.darker=function(e){return bF(Math.max(0,this.l-aY*(arguments.length?e:1)),this.a,this.b)};e8.rgb=function(){return aj(this.l,this.a,this.b)};function aj(gr,gq,d3){var gt=(gr+16)/116,e=gt+gq/500,gs=gt-d3/200;e=fs(e)*aR;gt=fs(gt)*aO;gs=fs(gs)*aM;return da(c(3.2404542*e-1.5371385*gt-0.4985314*gs),c(-0.969266*e+1.8760108*gt+0.041556*gs),c(0.0556434*e-0.2040259*gt+1.0572252*gs))}function fd(gq,d3,e){return a5(Math.atan2(e,d3)/eN*180,Math.sqrt(d3*d3+e*e),gq)}function fs(e){return e>0.206893034?e*e*e:(e-4/29)/7.787037}function e1(e){return e>0.008856?Math.pow(e,1/3):7.787037*e+4/29}function c(e){return Math.round(255*(e<=0.00304?12.92*e:1.055*Math.pow(e,1/2.4)-0.055))}function cU(e){dB(e,cT);return e}var cs=function(e,d3){return d3.querySelector(e)},eJ=function(e,d3){return d3.querySelectorAll(e)},dj=bb.documentElement,b=dj.matchesSelector||dj.webkitMatchesSelector||dj.mozMatchesSelector||dj.msMatchesSelector||dj.oMatchesSelector,a=function(d3,e){return b.call(d3,e)};if(typeof Sizzle==="function"){cs=function(e,d3){return Sizzle(e,d3)[0]||null};eJ=function(e,d3){return Sizzle.uniqueSort(Sizzle(e,d3))};a=Sizzle.matchesSelector}var cT=[];fK.selection=function(){return fk};fK.selection.prototype=cT;cT.select=function(gt){var gq=[],gx,e,gw,gr;if(typeof gt!=="function"){gt=u(gt)}for(var gu=-1,gs=this.length;++gu<gs;){gq.push(gx=[]);gx.parentNode=(gw=this[gu]).parentNode;for(var gv=-1,d3=gw.length;++gv<d3;){if(gr=gw[gv]){gx.push(e=gt.call(gr,gr.__data__,gv));if(e&&"__data__" in gr){e.__data__=gr.__data__}}else{gx.push(null)}}}return cU(gq)};function u(e){return function(){return cs(e,this)}}cT.selectAll=function(gs){var d3=[],gw,gq;if(typeof gs!=="function"){gs=ch(gs)}for(var gt=-1,gr=this.length;++gt<gr;){for(var gv=this[gt],gu=-1,e=gv.length;++gu<e;){if(gq=gv[gu]){d3.push(gw=cM(gs.call(gq,gq.__data__,gu)));gw.parentNode=gq}}}return cU(d3)};function ch(e){return function(){return eJ(e,this)}}cT.attr=function(e,gq){if(arguments.length<2){if(typeof e==="string"){var d3=this.node();e=fK.ns.qualify(e);return e.local?d3.getAttributeNS(e.space,e.local):d3.getAttribute(e)}for(gq in e){this.each(a0(gq,e[gq]))}return this}return this.each(a0(e,gq))};function a0(gq,gu){gq=fK.ns.qualify(gq);function d3(){this.removeAttribute(gq)}function gv(){this.removeAttributeNS(gq.space,gq.local)}function gt(){this.setAttribute(gq,gu)}function gs(){this.setAttributeNS(gq.space,gq.local,gu)}function e(){var gw=gu.apply(this,arguments);if(gw==null){this.removeAttribute(gq)}else{this.setAttribute(gq,gw)}}function gr(){var gw=gu.apply(this,arguments);if(gw==null){this.removeAttributeNS(gq.space,gq.local)}else{this.setAttributeNS(gq.space,gq.local,gw)}}return gu==null?gq.local?gv:d3:typeof gu==="function"?gq.local?gr:e:gq.local?gs:gt}cT.classed=function(e,gr){if(arguments.length<2){if(typeof e==="string"){var gq=this.node(),gs=(e=e.trim().split(/^|\s+/g)).length,d3=-1;if(gr=gq.classList){while(++d3<gs){if(!gr.contains(e[d3])){return false}}}else{gr=gq.className;if(gr.baseVal!=null){gr=gr.baseVal}while(++d3<gs){if(!fh(e[d3]).test(gr)){return false}}}return true}for(gr in e){this.each(fa(gr,e[gr]))}return this}return this.each(fa(e,gr))};function fh(e){return new RegExp("(?:^|\\s+)"+fK.requote(e)+"(?:\\s+|$)","g")}function fa(d3,gr){d3=d3.trim().split(/\s+/).map(gg);var gs=d3.length;function e(){var gt=-1;while(++gt<gs){d3[gt](this,gr)}}function gq(){var gu=-1,gt=gr.apply(this,arguments);while(++gu<gs){d3[gu](this,gt)}}return typeof gr==="function"?gq:e}function gg(e){var d3=fh(e);return function(gs,gt){if(gu=gs.classList){return gt?gu.add(e):gu.remove(e)}var gu=gs.className,gq=gu.baseVal!=null,gr=gq?gu.baseVal:gu;if(gt){d3.lastIndex=0;if(!d3.test(gr)){gr=bY(gr+" "+e);if(gq){gu.baseVal=gr}else{gs.className=gr}}}else{if(gr){gr=bY(gr.replace(d3," "));if(gq){gu.baseVal=gr}else{gs.className=gr}}}}}cT.style=function(e,gq,d3){var gr=arguments.length;if(gr<3){if(typeof e!=="string"){if(gr<2){gq=""}for(d3 in e){this.each(et(d3,e[d3],gq))}return this}if(gr<2){return ei.getComputedStyle(this.node(),null).getPropertyValue(e)}d3=""}return this.each(et(e,gq,d3))};function et(gq,gt,gr){function d3(){this.style.removeProperty(gq)}function gs(){this.style.setProperty(gq,gt,gr)}function e(){var gu=gt.apply(this,arguments);if(gu==null){this.style.removeProperty(gq)}else{this.style.setProperty(gq,gu,gr)}}return gt==null?d3:typeof gt==="function"?e:gs}cT.property=function(e,d3){if(arguments.length<2){if(typeof e==="string"){return this.node()[e]}for(d3 in e){this.each(fY(d3,e[d3]))}return this}return this.each(fY(e,d3))};function fY(d3,gr){function e(){delete this[d3]}function gq(){this[d3]=gr}function gs(){var gt=gr.apply(this,arguments);if(gt==null){delete this[d3]}else{this[d3]=gt}}return gr==null?e:typeof gr==="function"?gs:gq}cT.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var d3=e.apply(this,arguments);this.textContent=d3==null?"":d3}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};cT.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var d3=e.apply(this,arguments);this.innerHTML=d3==null?"":d3}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};cT.append=function(d3){d3=fK.ns.qualify(d3);function e(){return this.appendChild(bb.createElementNS(this.namespaceURI,d3))}function gq(){return this.appendChild(bb.createElementNS(d3.space,d3.local))}return this.select(d3.local?gq:e)};cT.insert=function(e,gq){e=fK.ns.qualify(e);function d3(){return this.insertBefore(bb.createElementNS(this.namespaceURI,e),cs(gq,this))}function gr(){return this.insertBefore(bb.createElementNS(e.space,e.local),cs(gq,this))}return this.select(e.local?gr:d3)};cT.remove=function(){return this.each(function(){var e=this.parentNode;if(e){e.removeChild(this)}})};cT.data=function(gv,gx){var gs=-1,d3=this.length,gw,gq;if(!arguments.length){gv=new Array(d3=(gw=this[0]).length);while(++gs<d3){if(gq=gw[gs]){gv[gs]=gq.__data__}}return gv}function gt(gH,gC){var gE,gz=gH.length,gB=gC.length,gG=Math.min(gz,gB),gL=new Array(gB),gI=new Array(gB),gF=new Array(gz),gA,gy;if(gx){var gM=new an(),gJ=new an(),gK=[],gD;for(gE=-1;++gE<gz;){gD=gx.call(gA=gH[gE],gA.__data__,gE);if(gM.has(gD)){gF[gE]=gA}else{gM.set(gD,gA)}gK.push(gD)}for(gE=-1;++gE<gB;){gD=gx.call(gC,gy=gC[gE],gE);if(gA=gM.get(gD)){gL[gE]=gA;gA.__data__=gy}else{if(!gJ.has(gD)){gI[gE]=F(gy)}}gJ.set(gD,gy);gM.remove(gD)}for(gE=-1;++gE<gz;){if(gM.has(gK[gE])){gF[gE]=gH[gE]}}}else{for(gE=-1;++gE<gG;){gA=gH[gE];gy=gC[gE];if(gA){gA.__data__=gy;gL[gE]=gA}else{gI[gE]=F(gy)}}for(;gE<gB;++gE){gI[gE]=F(gC[gE])}for(;gE<gz;++gE){gF[gE]=gH[gE]}}gI.update=gL;gI.parentNode=gL.parentNode=gF.parentNode=gH.parentNode;gu.push(gI);gr.push(gL);e.push(gF)}var gu=bi([]),gr=cU([]),e=cU([]);if(typeof gv==="function"){while(++gs<d3){gt(gw=this[gs],gv.call(gw,gw.parentNode.__data__,gs))}}else{while(++gs<d3){gt(gw=this[gs],gv)}}gr.enter=function(){return gu};gr.exit=function(){return e};return gr};function F(e){return{__data__:e}}cT.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};cT.filter=function(e){var gq=[],gw,gv,gr;if(typeof e!=="function"){e=aK(e)}for(var gt=0,gs=this.length;gt<gs;gt++){gq.push(gw=[]);gw.parentNode=(gv=this[gt]).parentNode;for(var gu=0,d3=gv.length;gu<d3;gu++){if((gr=gv[gu])&&e.call(gr,gr.__data__,gu)){gw.push(gr)}}}return cU(gq)};function aK(e){return function(){return a(this,e)}}cT.order=function(){for(var d3=-1,e=this.length;++d3<e;){for(var gt=this[d3],gq=gt.length-1,gr=gt[gq],gs;--gq>=0;){if(gs=gt[gq]){if(gr&&gr!==gs.nextSibling){gr.parentNode.insertBefore(gs,gr)}gr=gs}}}return this};cT.sort=function(d3){d3=ff.apply(this,arguments);for(var gq=-1,e=this.length;++gq<e;){this[gq].sort(d3)}return this.order()};function ff(e){if(!arguments.length){e=fK.ascending}return function(gq,d3){return !gq-!d3||e(gq.__data__,d3.__data__)}}cT.on=function(d3,gq,e){var gr=arguments.length;if(gr<3){if(typeof d3!=="string"){if(gr<2){gq=false}for(e in d3){this.each(k(e,d3[e],gq))}return this}if(gr<2){return(gr=this.node()["__on"+d3])&&gr._}e=false}return this.each(k(d3,gq,e))};function k(gs,gt,e){var gq="__on"+gs,gr=gs.indexOf(".");if(gr>0){gs=gs.substring(0,gr)}function d3(){var gv=this[gq];if(gv){this.removeEventListener(gs,gv,gv.$);delete this[gq]}}function gu(){var gw=this,gv=cM(arguments);d3.call(this);this.addEventListener(gs,this[gq]=gx,gx.$=e);gx._=gt;function gx(gy){var gz=fK.event;fK.event=gy;gv[0]=gw.__data__;try{gt.apply(gw,gv)}finally{fK.event=gz}}}return gt?gu:d3}cT.each=function(e){return bZ(this,function(gr,gq,d3){e.call(gr,gr.__data__,gq,d3)})};function bZ(d3,gv){for(var gq=0,e=d3.length;gq<e;gq++){for(var gt=d3[gq],gr=0,gu=gt.length,gs;gr<gu;gr++){if(gs=gt[gr]){gv(gs,gr,gq)}}}return d3}cT.call=function(d3){var e=cM(arguments);d3.apply(e[0]=this,e);return this};cT.empty=function(){return !this.node()};cT.node=function(){for(var d3=0,e=this.length;d3<e;d3++){for(var gs=this[d3],gq=0,gt=gs.length;gq<gt;gq++){var gr=gs[gq];if(gr){return gr}}}return null};cT.transition=function(){var e=ab||++fB,gq=[],gx,gr,gv=Object.create(cZ);gv.time=Date.now();for(var gt=-1,gs=this.length;++gt<gs;){gq.push(gx=[]);for(var gw=this[gt],gu=-1,d3=gw.length;++gu<d3;){if(gr=gw[gu]){el(gr,gu,e,gv)}gx.push(gr)}}return fi(gq,e)};var fk=cU([[bb]]);fk[0].parentNode=dj;fK.select=function(e){return typeof e==="string"?fk.select(e):cU([[e]])};fK.selectAll=function(e){return typeof e==="string"?fk.selectAll(e):cU([cM(e)])};function bi(e){dB(e,dL);return e}var dL=[];fK.selection.enter=bi;fK.selection.enter.prototype=dL;dL.append=cT.append;dL.insert=cT.insert;dL.empty=cT.empty;dL.node=cT.node;dL.select=function(gt){var gq=[],gy,e,gw,gx,gs;for(var gu=-1,gr=this.length;++gu<gr;){gw=(gx=this[gu]).update;gq.push(gy=[]);gy.parentNode=gx.parentNode;for(var gv=-1,d3=gx.length;++gv<d3;){if(gs=gx[gv]){gy.push(gw[gv]=e=gt.call(gx.parentNode,gs.__data__,gv));e.__data__=gs.__data__}else{gy.push(null)}}}return cU(gq)};function fi(e,d3){dB(e,dc);e.id=d3;return e}var dc=[],fB=0,ab,cZ={ease:af,delay:0,duration:250};dc.call=cT.call;dc.empty=cT.empty;dc.node=cT.node;fK.transition=function(e){return arguments.length?ab?e.transition():e:fk.transition()};fK.transition.prototype=dc;function el(gr,gq,gu,e){var d3=gr.__transition__||(gr.__transition__={active:0,count:0}),gt=d3[gu];if(!gt){var gs=e.time;gt=d3[gu]={tween:new an(),event:fK.dispatch("start","end"),time:gs,ease:e.ease,delay:e.delay,duration:e.duration};++d3.count;fK.timer(function(gE){var gB=gr.__data__,gx=gt.ease,gv=gt.event,gz=gt.delay,gy=gt.duration,gD=[];return gz<=gE?gw(gE):fK.timer(gw,gz,gs),1;function gw(gF){if(d3.active>gu){return gC()}d3.active=gu;gv.start.call(gr,gB,gq);gt.tween.forEach(function(gG,gH){if(gH=gH.call(gr,gB,gq)){gD.push(gH)}});if(!gA(gF)){fK.timer(gA,0,gs)}return 1}function gA(gF){if(d3.active!==gu){return gC()}var gG=(gF-gz)/gy,gH=gx(gG),gI=gD.length;while(gI>0){gD[--gI].call(gr,gH)}if(gG>=1){gC();gv.end.call(gr,gB,gq);return 1}}function gC(){if(--d3.count){delete d3[gu]}else{delete gr.__transition__}return 1}},0,gs);return gt}}dc.select=function(gu){var e=this.id,gr=[],gy,d3,gs;if(typeof gu!=="function"){gu=u(gu)}for(var gv=-1,gt=this.length;++gv<gt;){gr.push(gy=[]);for(var gx=this[gv],gw=-1,gq=gx.length;++gw<gq;){if((gs=gx[gw])&&(d3=gu.call(gs,gs.__data__,gw))){if("__data__" in gs){d3.__data__=gs.__data__}el(d3,gw,e,gs.__transition__[e]);gy.push(d3)}else{gy.push(null)}}}return fi(gr,e)};dc.selectAll=function(gw){var d3=this.id,gt=[],gC,e,gv,gq,gA;if(typeof gw!=="function"){gw=ch(gw)}for(var gy=-1,gu=this.length;++gy<gu;){for(var gB=this[gy],gz=-1,gs=gB.length;++gz<gs;){if(gv=gB[gz]){gA=gv.__transition__[d3];e=gw.call(gv,gv.__data__,gz);gt.push(gC=[]);for(var gx=-1,gr=e.length;++gx<gr;){el(gq=e[gx],gx,d3,gA);gC.push(gq)}}}}return fi(gt,d3)};dc.filter=function(e){var gq=[],gw,gv,gr;if(typeof e!=="function"){e=aK(e)}for(var gt=0,gs=this.length;gt<gs;gt++){gq.push(gw=[]);for(var gv=this[gt],gu=0,d3=gv.length;gu<d3;gu++){if((gr=gv[gu])&&e.call(gr,gr.__data__,gu)){gw.push(gr)}}}return fi(gq,this.id,this.time).ease(this.ease())};dc.attr=function(e,gs){if(arguments.length<2){for(gs in e){this.attr(gs,e[gs])}return this}var gr=ee(e),gq=fK.ns.qualify(e);function d3(){this.removeAttribute(gq)}function gt(){this.removeAttributeNS(gq.space,gq.local)}return f6(this,"attr."+e,gs,function(gu){function gw(){var gx=this.getAttribute(gq),gy;return gx!==gu&&(gy=gr(gx,gu),function(gz){this.setAttribute(gq,gy(gz))})}function gv(){var gx=this.getAttributeNS(gq.space,gq.local),gy;return gx!==gu&&(gy=gr(gx,gu),function(gz){this.setAttributeNS(gq.space,gq.local,gy(gz))})}return gu==null?gq.local?gt:d3:(gu+="",gq.local?gv:gw)})};dc.attrTween=function(e,gq){var d3=fK.ns.qualify(e);function gr(gv,gt){var gu=gq.call(this,gv,gt,this.getAttribute(d3));return gu&&function(gw){this.setAttribute(d3,gu(gw))}}function gs(gv,gt){var gu=gq.call(this,gv,gt,this.getAttributeNS(d3.space,d3.local));return gu&&function(gw){this.setAttributeNS(d3.space,d3.local,gu(gw))}}return this.tween("attr."+e,d3.local?gs:gr)};dc.style=function(gq,gs,gr){var gt=arguments.length;if(gt<3){if(typeof gq!=="string"){if(gt<2){gs=""}for(gr in gq){this.style(gr,gq[gr],gs)}return this}gr=""}var d3=ee(gq);function e(){this.style.removeProperty(gq)}return f6(this,"style."+gq,gs,function(gu){function gv(){var gw=ei.getComputedStyle(this,null).getPropertyValue(gq),gx;return gw!==gu&&(gx=d3(gw,gu),function(gy){this.style.setProperty(gq,gx(gy),gr)})}return gu==null?e:(gu+="",gv)})};dc.styleTween=function(e,gq,d3){if(arguments.length<3){d3=""}return this.tween("style."+e,function(gt,gr){var gs=gq.call(this,gt,gr,ei.getComputedStyle(this,null).getPropertyValue(e));return gs&&function(gu){this.style.setProperty(e,gs(gu),d3)}})};dc.text=function(e){return f6(this,"text",e,go)};function go(e){if(e==null){e=""}return function(){this.textContent=e}}dc.remove=function(){return this.each("end.transition",function(){var e;if(!this.__transition__&&(e=this.parentNode)){e.removeChild(this)}})};dc.ease=function(e){var d3=this.id;if(arguments.length<1){return this.node().__transition__[d3].ease}if(typeof e!=="function"){e=fK.ease.apply(fK,arguments)}return bZ(this,function(gq){gq.__transition__[d3].ease=e})};dc.delay=function(e){var d3=this.id;return bZ(this,typeof e==="function"?function(gs,gr,gq){gs.__transition__[d3].delay=e.call(gs,gs.__data__,gr,gq)|0}:(e|=0,function(gq){gq.__transition__[d3].delay=e}))};dc.duration=function(e){var d3=this.id;return bZ(this,typeof e==="function"?function(gs,gr,gq){gs.__transition__[d3].duration=Math.max(1,e.call(gs,gs.__data__,gr,gq)|0)}:(e=Math.max(1,e|0),function(gq){gq.__transition__[d3].duration=e}))};dc.each=function(d3,gq){var gs=this.id;if(arguments.length<2){var e=cZ,gr=ab;ab=gs;bZ(this,function(gv,gu,gt){cZ=gv.__transition__[gs];d3.call(gv,gv.__data__,gu,gt)});cZ=e;ab=gr}else{bZ(this,function(gt){gt.__transition__[gs].event.on(d3,gq)})}return this};dc.transition=function(){var gy=this.id,gx=++fB,d3=[],gw,gv,gr,gu;for(var gs=0,gq=this.length;gs<gq;gs++){d3.push(gw=[]);for(var gv=this[gs],gt=0,e=gv.length;gt<e;gt++){if(gr=gv[gt]){gu=Object.create(gr.__transition__[gy]);gu.delay+=gu.duration;el(gr,gt,gx,gu)}gw.push(gr)}}return fi(d3,gx)};dc.tween=function(e,d3){var gq=this.id;if(arguments.length<2){return this.node().__transition__[gq].tween.get(e)}return bZ(this,d3==null?function(gr){gr.__transition__[gq].tween.remove(e)}:function(gr){gr.__transition__[gq].tween.set(e,d3)})};function f6(e,d3,gr,gq){var gs=e.id;return bZ(e,typeof gr==="function"?function(gv,gu,gt){gv.__transition__[gs].tween.set(d3,gq(gr.call(gv,gv.__data__,gu,gt)))}:(gr=gq(gr),function(gt){gt.__transition__[gs].tween.set(d3,gr)}))}var fJ=0,Q={},bu=null,bH,d1;fK.timer=function(gr,e,d3){if(arguments.length<3){if(arguments.length<2){e=0}else{if(!isFinite(e)){return}}d3=Date.now()}var gq=Q[gr.id];if(gq&&gq.callback===gr){gq.then=d3;gq.delay=e}else{Q[gr.id=++fJ]=bu={callback:gr,then:d3,delay:e,next:bu}}if(!bH){d1=clearTimeout(d1);bH=1;fP(fQ)}};function fQ(){var e,gq=Date.now(),gr=bu;while(gr){e=gq-gr.then;if(e>=gr.delay){gr.flush=gr.callback(e)}gr=gr.next}var d3=dO()-gq;if(d3>24){if(isFinite(d3)){clearTimeout(d1);d1=setTimeout(fQ,d3)}bH=0}else{bH=1;fP(fQ)}}fK.timer.flush=function(){var e,d3=Date.now(),gq=bu;while(gq){e=d3-gq.then;if(!gq.delay){gq.flush=gq.callback(e)}gq=gq.next}dO()};function dO(){var d3=null,e=bu,gq=Infinity;while(e){if(e.flush){delete Q[e.callback.id];e=d3?d3.next=e.next:bu=e.next}else{gq=Math.min(gq,e.then+e.delay);e=(d3=e).next}}return gq}var fP=ei.requestAnimationFrame||ei.webkitRequestAnimationFrame||ei.mozRequestAnimationFrame||ei.oRequestAnimationFrame||ei.msRequestAnimationFrame||function(e){setTimeout(e,17)};fK.mouse=function(e){return aD(e,U())};var bX=/WebKit/.test(ei.navigator.userAgent)?-1:0;function aD(gr,gu){var gs=gr.ownerSVGElement||gr;if(gs.createSVGPoint){var d3=gs.createSVGPoint();if(bX<0&&(ei.scrollX||ei.scrollY)){gs=fK.select(bb.body).append("svg").style("position","absolute").style("top",0).style("left",0);var gq=gs[0][0].getScreenCTM();bX=!(gq.f||gq.e);gs.remove()}if(bX){d3.x=gu.pageX;d3.y=gu.pageY}else{d3.x=gu.clientX;d3.y=gu.clientY}d3=d3.matrixTransform(gr.getScreenCTM().inverse());return[d3.x,d3.y]}var gt=gr.getBoundingClientRect();return[gu.clientX-gt.left-gr.clientLeft,gu.clientY-gt.top-gr.clientTop]}fK.touches=function(e,d3){if(arguments.length<2){d3=U().touches}return d3?cM(d3).map(function(gr){var gq=aD(e,gr);gq.identifier=gr.identifier;return gq}):[]};function am(){}fK.scale={};function db(d3){var gq=d3[0],e=d3[d3.length-1];return gq<e?[gq,e]:[e,gq]}function aE(e){return e.rangeExtent?e.rangeExtent():db(e.range())}function eV(gu,gs){var gt=0,gr=gu.length-1,gq=gu[gt],d3=gu[gr],e;if(d3<gq){e=gt,gt=gr,gr=e;e=gq,gq=d3,d3=e}if(gs=gs(d3-gq)){gu[gt]=gs.floor(gq);gu[gr]=gs.ceil(d3)}return gu}function dv(){return Math}fK.scale.linear=function(){return c7([0,1],[0,1],fK.interpolate,false)};function c7(gt,gr,gs,gv){var gq,d3;function e(){var gw=Math.min(gt.length,gr.length)>2?G:al,gx=gv?ah:fR;gq=gw(gt,gr,gx,gs);d3=gw(gr,gt,gx,fK.interpolate);return gu}function gu(gw){return gq(gw)}gu.invert=function(gw){return d3(gw)};gu.domain=function(gw){if(!arguments.length){return gt}gt=gw.map(Number);return e()};gu.range=function(gw){if(!arguments.length){return gr}gr=gw;return e()};gu.rangeRound=function(gw){return gu.range(gw).interpolate(fK.interpolateRound)};gu.clamp=function(gw){if(!arguments.length){return gv}gv=gw;return e()};gu.interpolate=function(gw){if(!arguments.length){return gs}gs=gw;return e()};gu.ticks=function(gw){return dG(gt,gw)};gu.tickFormat=function(gw){return dT(gt,gw)};gu.nice=function(){eV(gt,au);return e()};gu.copy=function(){return c7(gt,gr,gs,gv)};return e()}function eL(d3,e){return fK.rebind(d3,e,"range","rangeRound","interpolate","clamp")}function au(e){e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1);return e&&{floor:function(d3){return Math.floor(d3/e)*e},ceil:function(d3){return Math.ceil(d3/e)*e}}}function q(gt,e){var gq=db(gt),d3=gq[1]-gq[0],gs=Math.pow(10,Math.floor(Math.log(d3/e)/Math.LN10)),gr=e/d3*gs;if(gr<=0.15){gs*=10}else{if(gr<=0.35){gs*=5}else{if(gr<=0.75){gs*=2}}}gq[0]=Math.ceil(gq[0]/gs)*gs;gq[1]=Math.floor(gq[1]/gs)*gs+gs*0.5;gq[2]=gs;return gq}function dG(d3,e){return fK.range.apply(fK,q(d3,e))}function dT(d3,e){return fK.format(",."+Math.max(0,-Math.floor(Math.log(q(d3,e)[2])/Math.LN10+0.01))+"f")}function al(gs,e,gt,gq){var d3=gt(gs[0],gs[1]),gr=gq(e[0],e[1]);return function(gu){return gr(d3(gu))}}function G(gu,d3,gv,gs){var gr=[],gt=[],gq=0,e=Math.min(gu.length,d3.length)-1;if(gu[e]<gu[0]){gu=gu.slice().reverse();d3=d3.slice().reverse()}while(++gq<=e){gr.push(gv(gu[gq-1],gu[gq]));gt.push(gs(d3[gq-1],d3[gq]))}return function(gw){var gx=fK.bisect(gu,gw,1,e)-1;return gt[gx](gr[gx](gw))}}fK.scale.log=function(){return fc(fK.scale.linear(),eM)};function fc(e,d3){var gq=d3.pow;function gr(gs){return e(d3(gs))}gr.invert=function(gs){return gq(e.invert(gs))};gr.domain=function(gs){if(!arguments.length){return e.domain().map(gq)}d3=gs[0]<0?eQ:eM;gq=d3.pow;e.domain(gs.map(d3));return gr};gr.nice=function(){e.domain(eV(e.domain(),dv));return gr};gr.ticks=function(){var gx=db(e.domain()),gy=[];if(gx.every(isFinite)){var gw=Math.floor(gx[0]),gv=Math.ceil(gx[1]),gu=gq(gx[0]),gt=gq(gx[1]);if(d3===eQ){gy.push(gq(gw));for(;gw++<gv;){for(var gs=9;gs>0;gs--){gy.push(gq(gw)*gs)}}}else{for(;gw<gv;gw++){for(var gs=1;gs<10;gs++){gy.push(gq(gw)*gs)}}gy.push(gq(gw))}for(gw=0;gy[gw]<gu;gw++){}for(gv=gy.length;gy[gv-1]>gt;gv--){}gy=gy.slice(gw,gv)}return gy};gr.tickFormat=function(gw,gv){if(arguments.length<2){gv=ct}if(!arguments.length){return gv}var gs=Math.max(0.1,gw/gr.ticks().length),gt=d3===eQ?(gu=-1e-12,Math.floor):(gu=1e-12,Math.ceil),gu;return function(gx){return gx/gq(gt(d3(gx)+gu))<=gs?gv(gx):""}};gr.copy=function(){return fc(e.copy(),d3)};return eL(gr,e)}var ct=fK.format(".0e");function eM(e){return Math.log(e<0?0:e)/Math.LN10}function eQ(e){return -Math.log(e>0?0:-e)/Math.LN10}eM.pow=function(e){return Math.pow(10,e)};eQ.pow=function(e){return -Math.pow(10,-e)};fK.scale.pow=function(){return e2(fK.scale.linear(),1)};function e2(e,gq){var d3=eA(gq),gr=eA(1/gq);function gs(gt){return e(d3(gt))}gs.invert=function(gt){return gr(e.invert(gt))};gs.domain=function(gt){if(!arguments.length){return e.domain().map(gr)}e.domain(gt.map(d3));return gs};gs.ticks=function(gt){return dG(gs.domain(),gt)};gs.tickFormat=function(gt){return dT(gs.domain(),gt)};gs.nice=function(){return gs.domain(eV(gs.domain(),au))};gs.exponent=function(gt){if(!arguments.length){return gq}var gu=gs.domain();d3=eA(gq=gt);gr=eA(1/gq);return gs.domain(gu)};gs.copy=function(){return e2(e.copy(),gq)};return eL(gs,e)}function eA(d3){return function(e){return e<0?-Math.pow(-e,d3):Math.pow(e,d3)}}fK.scale.sqrt=function(){return fK.scale.pow().exponent(0.5)};fK.scale.ordinal=function(){return bJ([],{t:"range",a:[[]]})};function bJ(gt,gq){var gs,d3,gr;function gu(gv){return d3[((gs.get(gv)||gs.set(gv,gt.push(gv)))-1)%d3.length]}function e(gw,gv){return fK.range(gt.length).map(function(gx){return gw+gv*gx})}gu.domain=function(gv){if(!arguments.length){return gt}gt=[];gs=new an();var gx=-1,gy=gv.length,gw;while(++gx<gy){if(!gs.has(gw=gv[gx])){gs.set(gw,gt.push(gw))}}return gu[gq.t].apply(gu,gq.a)};gu.range=function(gv){if(!arguments.length){return d3}d3=gv;gr=0;gq={t:"range",a:arguments};return gu};gu.rangePoints=function(gv,gy){if(arguments.length<2){gy=0}var gz=gv[0],gw=gv[1],gx=(gw-gz)/(Math.max(1,gt.length-1)+gy);d3=e(gt.length<2?(gz+gw)/2:gz+gx*gy/2,gx);gr=0;gq={t:"rangePoints",a:arguments};return gu};gu.rangeBands=function(gw,gA,gv){if(arguments.length<2){gA=0}if(arguments.length<3){gv=gA}var gx=gw[1]<gw[0],gB=gw[gx-0],gy=gw[1-gx],gz=(gy-gB)/(gt.length-gA+2*gv);d3=e(gB+gz*gv,gz);if(gx){d3.reverse()}gr=gz*(1-gA);gq={t:"rangeBands",a:arguments};return gu};gu.rangeRoundBands=function(gw,gB,gv){if(arguments.length<2){gB=0}if(arguments.length<3){gv=gB}var gy=gw[1]<gw[0],gC=gw[gy-0],gz=gw[1-gy],gA=Math.floor((gz-gC)/(gt.length-gB+2*gv)),gx=gz-gC-(gt.length-gB)*gA;d3=e(gC+Math.round(gx/2),gA);if(gy){d3.reverse()}gr=Math.round(gA*(1-gB));gq={t:"rangeRoundBands",a:arguments};return gu};gu.rangeBand=function(){return gr};gu.rangeExtent=function(){return db(gq.a[0])};gu.copy=function(){return bJ(gt,gq)};return gu.domain(gt)}fK.scale.category10=function(){return fK.scale.ordinal().range(bT)};fK.scale.category20=function(){return fK.scale.ordinal().range(bA)};fK.scale.category20b=function(){return fK.scale.ordinal().range(fA)};fK.scale.category20c=function(){return fK.scale.ordinal().range(fz)};var bT=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];var bA=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];var fA=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];var fz=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];fK.scale.quantile=function(){return z([],[])};function z(gq,d3){var gr;function e(){var gt=0,gu=d3.length;gr=[];while(++gt<gu){gr[gt-1]=fK.quantile(gq,gt/gu)}return gs}function gs(gt){if(isNaN(gt=+gt)){return NaN}return d3[fK.bisect(gr,gt)]}gs.domain=function(gt){if(!arguments.length){return gq}gq=gt.filter(function(gu){return !isNaN(gu)}).sort(fK.ascending);return e()};gs.range=function(gt){if(!arguments.length){return d3}d3=gt;return e()};gs.quantiles=function(){return gr};gs.copy=function(){return z(gq,d3)};return e()}fK.scale.quantize=function(){return cF(0,1,[0,1])};function cF(gs,gq,d3){var gt,gr;function gu(gv){return d3[Math.max(0,Math.min(gr,Math.floor(gt*(gv-gs))))]}function e(){gt=d3.length/(gq-gs);gr=d3.length-1;return gu}gu.domain=function(gv){if(!arguments.length){return[gs,gq]}gs=+gv[0];gq=+gv[gv.length-1];return e()};gu.range=function(gv){if(!arguments.length){return d3}d3=gv;return e()};gu.copy=function(){return cF(gs,gq,d3)};return e()}fK.scale.threshold=function(){return eH([0.5],[0,1])};function eH(d3,e){function gq(gr){return e[fK.bisect(d3,gr)]}gq.domain=function(gr){if(!arguments.length){return d3}d3=gr;return gq};gq.range=function(gr){if(!arguments.length){return e}e=gr;return gq};gq.copy=function(){return eH(d3,e)};return gq}fK.scale.identity=function(){return dw([0,1])};function dw(d3){function e(gq){return +gq}e.invert=e;e.domain=e.range=function(gq){if(!arguments.length){return d3}d3=gq.map(e);return e};e.ticks=function(gq){return dG(d3,gq)};e.tickFormat=function(gq){return dT(d3,gq)};e.copy=function(){return dw(d3)};return e}fK.svg={};fK.svg.arc=function(){var gs=a7,gr=b7,gq=eR,e=aa;function d3(){var gw=gs.apply(this,arguments),gv=gr.apply(this,arguments),gu=gq.apply(this,arguments)+fZ,gt=e.apply(this,arguments)+fZ,gC=(gt<gu&&(gC=gu,gu=gt,gt=gC),gt-gu),gz=gC<eN?"0":"1",gy=Math.cos(gu),gB=Math.sin(gu),gx=Math.cos(gt),gA=Math.sin(gt);return gC>=f5?gw?"M0,"+gv+"A"+gv+","+gv+" 0 1,1 0,"+-gv+"A"+gv+","+gv+" 0 1,1 0,"+gv+"M0,"+gw+"A"+gw+","+gw+" 0 1,0 0,"+-gw+"A"+gw+","+gw+" 0 1,0 0,"+gw+"Z":"M0,"+gv+"A"+gv+","+gv+" 0 1,1 0,"+-gv+"A"+gv+","+gv+" 0 1,1 0,"+gv+"Z":gw?"M"+gv*gy+","+gv*gB+"A"+gv+","+gv+" 0 "+gz+",1 "+gv*gx+","+gv*gA+"L"+gw*gx+","+gw*gA+"A"+gw+","+gw+" 0 "+gz+",0 "+gw*gy+","+gw*gB+"Z":"M"+gv*gy+","+gv*gB+"A"+gv+","+gv+" 0 "+gz+",1 "+gv*gx+","+gv*gA+"L0,0Z"}d3.innerRadius=function(gt){if(!arguments.length){return gs}gs=L(gt);return d3};d3.outerRadius=function(gt){if(!arguments.length){return gr}gr=L(gt);return d3};d3.startAngle=function(gt){if(!arguments.length){return gq}gq=L(gt);return d3};d3.endAngle=function(gt){if(!arguments.length){return e}e=L(gt);return d3};d3.centroid=function(){var gu=(gs.apply(this,arguments)+gr.apply(this,arguments))/2,gt=(gq.apply(this,arguments)+e.apply(this,arguments))/2+fZ;return[Math.cos(gt)*gu,Math.sin(gt)*gu]};return d3};var fZ=-eN/2,f5=2*eN-0.000001;function a7(e){return e.innerRadius}function b7(e){return e.outerRadius}function eR(e){return e.startAngle}function aa(e){return e.endAngle}function dS(d3){var e=fm,gv=fl,gu=W,gr=ga,gt=gr.key,gs=0.7;function gq(gz){var gB=[],gE=[],gA=-1,gw=gz.length,gD,gy=L(e),gx=L(gv);function gC(){gB.push("M",gr(d3(gE),gs))}while(++gA<gw){if(gu.call(this,gD=gz[gA],gA)){gE.push([+gy.call(this,gD,gA),+gx.call(this,gD,gA)])}else{if(gE.length){gC();gE=[]}}}if(gE.length){gC()}return gB.length?gB.join(""):null}gq.x=function(gw){if(!arguments.length){return e}e=gw;return gq};gq.y=function(gw){if(!arguments.length){return gv}gv=gw;return gq};gq.defined=function(gw){if(!arguments.length){return gu}gu=gw;return gq};gq.interpolate=function(gw){if(!arguments.length){return gt}if(typeof gw==="function"){gt=gr=gw}else{gt=(gr=bw.get(gw)||ga).key}return gq};gq.tension=function(gw){if(!arguments.length){return gs}gs=gw;return gq};return gq}fK.svg.line=function(){return dS(eX)};function fm(e){return e[0]}function fl(e){return e[1]}var bw=fK.map({linear:ga,"linear-closed":S,"step-before":aV,"step-after":fT,basis:d0,"basis-open":aS,"basis-closed":b3,bundle:b6,cardinal:cQ,"cardinal-open":bp,"cardinal-closed":r,monotone:cr});bw.forEach(function(e,d3){d3.key=e;d3.closed=/-closed$/.test(e)});function ga(e){return e.join("L")}function S(e){return ga(e)+"Z"}function aV(d3){var e=0,gs=d3.length,gr=d3[0],gq=[gr[0],",",gr[1]];while(++e<gs){gq.push("V",(gr=d3[e])[1],"H",gr[0])}return gq.join("")}function fT(d3){var e=0,gs=d3.length,gr=d3[0],gq=[gr[0],",",gr[1]];while(++e<gs){gq.push("H",(gr=d3[e])[0],"V",gr[1])}return gq.join("")}function bp(d3,e){return d3.length<4?ga(d3):d3[1]+ce(d3.slice(1,d3.length-1),bj(d3,e))}function r(d3,e){return d3.length<3?ga(d3):d3[0]+ce((d3.push(d3[0]),d3),bj([d3[d3.length-2]].concat(d3,[d3[1]]),e))}function cQ(d3,e){return d3.length<3?ga(d3):d3[0]+ce(d3,bj(d3,e))}function ce(gu,gt){if(gt.length<1||gu.length!=gt.length&&gu.length!=gt.length+2){return ga(gu)}var gv=gu.length!=gt.length,gy="",gw=gu[0],e=gu[1],gs=gt[0],gx=gs,gq=1;if(gv){gy+="Q"+(e[0]-gs[0]*2/3)+","+(e[1]-gs[1]*2/3)+","+e[0]+","+e[1];gw=gu[1];gq=2}if(gt.length>1){gx=gt[1];e=gu[gq];gq++;gy+="C"+(gw[0]+gs[0])+","+(gw[1]+gs[1])+","+(e[0]-gx[0])+","+(e[1]-gx[1])+","+e[0]+","+e[1];for(var d3=2;d3<gt.length;d3++,gq++){e=gu[gq];gx=gt[d3];gy+="S"+(e[0]-gx[0])+","+(e[1]-gx[1])+","+e[0]+","+e[1]}}if(gv){var gr=gu[gq];gy+="Q"+(e[0]+gx[0]*2/3)+","+(e[1]+gx[1]*2/3)+","+gr[0]+","+gr[1]}return gy}function bj(gu,gs){var gq=[],gr=(1-gs)/2,gw,gv=gu[0],gt=gu[1],d3=1,e=gu.length;while(++d3<e){gw=gv;gv=gt;gt=gu[d3];gq.push([gr*(gt[0]-gw[0]),gr*(gt[1]-gw[1])])}return gq}function d0(gv){if(gv.length<3){return ga(gv)}var gq=1,d3=gv.length,gr=gv[0],e=gr[0],gt=gr[1],gu=[e,e,e,(gr=gv[1])[0]],gs=[gt,gt,gt,gr[1]],gw=[e,",",gt];bd(gw,gu,gs);while(++gq<d3){gr=gv[gq];gu.shift();gu.push(gr[0]);gs.shift();gs.push(gr[1]);bd(gw,gu,gs)}gq=-1;while(++gq<2){gu.shift();gu.push(gr[0]);gs.shift();gs.push(gr[1]);bd(gw,gu,gs)}return gw.join("")}function aS(gr){if(gr.length<4){return ga(gr)}var gt=[],gq=-1,gu=gr.length,gs,d3=[0],e=[0];while(++gq<3){gs=gr[gq];d3.push(gs[0]);e.push(gs[1])}gt.push(eZ(fL,d3)+","+eZ(fL,e));--gq;while(++gq<gu){gs=gr[gq];d3.shift();d3.push(gs[0]);e.shift();e.push(gs[1]);bd(gt,d3,e)}return gt.join("")}function b3(gs){var gu,gr=-1,gv=gs.length,e=gv+4,gt,gq=[],d3=[];while(++gr<4){gt=gs[gr%gv];gq.push(gt[0]);d3.push(gt[1])}gu=[eZ(fL,gq),",",eZ(fL,d3)];--gr;while(++gr<e){gt=gs[gr%gv];gq.shift();gq.push(gt[0]);d3.shift();d3.push(gt[1]);bd(gu,gq,d3)}return gu.join("")}function b6(gu,gt){var gq=gu.length-1;if(gq){var d3=gu[0][0],gs=gu[0][1],gx=gu[gq][0]-d3,gw=gu[gq][1]-gs,gr=-1,e,gv;while(++gr<=gq){e=gu[gr];gv=gr/gq;e[0]=gt*e[0]+(1-gt)*(d3+gv*gx);e[1]=gt*e[1]+(1-gt)*(gs+gv*gw)}}return d0(gu)}function eZ(d3,e){return d3[0]*e[0]+d3[1]*e[1]+d3[2]*e[2]+d3[3]*e[3]}var fN=[0,2/3,1/3,0],fM=[0,1/3,2/3,0],fL=[0,1/6,2/3,1/6];function bd(d3,e,gq){d3.push("C",eZ(fN,e),",",eZ(fN,gq),",",eZ(fM,e),",",eZ(fM,gq),",",eZ(fL,e),",",eZ(fL,gq))}function gj(d3,e){return(e[1]-d3[1])/(e[0]-d3[0])}function c2(gr){var gq=0,d3=gr.length-1,e=[],gu=gr[0],gt=gr[1],gs=e[0]=gj(gu,gt);while(++gq<d3){e[gq]=(gs+(gs=gj(gu=gt,gt=gr[gq+1])))/2}e[gq]=gs;return e}function ad(gv){var gs=[],gr,gu,gt,gw,e=c2(gv),gq=-1,d3=gv.length-1;while(++gq<d3){gr=gj(gv[gq],gv[gq+1]);if(Math.abs(gr)<0.000001){e[gq]=e[gq+1]=0}else{gu=e[gq]/gr;gt=e[gq+1]/gr;gw=gu*gu+gt*gt;if(gw>9){gw=gr*3/Math.sqrt(gw);e[gq]=gw*gu;e[gq+1]=gw*gt}}}gq=-1;while(++gq<=d3){gw=(gv[Math.min(d3,gq+1)][0]-gv[Math.max(0,gq-1)][0])/(6*(1+e[gq]*e[gq]));gs.push([gw||0,e[gq]*gw||0])}return gs}function cr(e){return e.length<3?ga(e):e[0]+ce(e,ad(e))}fK.svg.line.radial=function(){var e=dS(I);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function I(gr){var e,gq=-1,gt=gr.length,gs,d3;while(++gq<gt){e=gr[gq];gs=e[0];d3=e[1]+fZ;e[0]=gs*Math.cos(d3);e[1]=gs*Math.sin(d3)}return gr}function gl(gs){var gq=fm,d3=fm,gy=0,gw=fl,gr=W,gt=ga,gz=gt.key,gv=gt,gu="L",gx=0.7;function e(gE){var gG=[],gA=[],gN=[],gF=-1,gB=gE.length,gI,gD=L(gq),gM=L(gy),gC=gq===d3?function(){return gK}:L(d3),gL=gy===gw?function(){return gJ}:L(gw),gK,gJ;function gH(){gG.push("M",gt(gs(gN),gx),gu,gv(gs(gA.reverse()),gx),"Z")}while(++gF<gB){if(gr.call(this,gI=gE[gF],gF)){gA.push([gK=+gD.call(this,gI,gF),gJ=+gM.call(this,gI,gF)]);gN.push([+gC.call(this,gI,gF),+gL.call(this,gI,gF)])}else{if(gA.length){gH();gA=[];gN=[]}}}if(gA.length){gH()}return gG.length?gG.join(""):null}e.x=function(gA){if(!arguments.length){return d3}gq=d3=gA;return e};e.x0=function(gA){if(!arguments.length){return gq}gq=gA;return e};e.x1=function(gA){if(!arguments.length){return d3}d3=gA;return e};e.y=function(gA){if(!arguments.length){return gw}gy=gw=gA;return e};e.y0=function(gA){if(!arguments.length){return gy}gy=gA;return e};e.y1=function(gA){if(!arguments.length){return gw}gw=gA;return e};e.defined=function(gA){if(!arguments.length){return gr}gr=gA;return e};e.interpolate=function(gA){if(!arguments.length){return gz}if(typeof gA==="function"){gz=gt=gA}else{gz=(gt=bw.get(gA)||ga).key}gv=gt.reverse||gt;gu=gt.closed?"M":"L";return e};e.tension=function(gA){if(!arguments.length){return gx}gx=gA;return e};return e}aV.reverse=fT;fT.reverse=aV;fK.svg.area=function(){return gl(eX)};fK.svg.area.radial=function(){var e=gl(I);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};fK.svg.chord=function(){var e=f0,gv=f9,gu=C,gw=eR,gs=aa;function gt(gB,gz){var gA=gx(this,e,gB,gz),gy=gx(this,gv,gB,gz);return"M"+gA.p0+d3(gA.r,gA.p1,gA.a1-gA.a0)+(gq(gA,gy)?gr(gA.r,gA.p1,gA.r,gA.p0):gr(gA.r,gA.p1,gy.r,gy.p0)+d3(gy.r,gy.p1,gy.a1-gy.a0)+gr(gy.r,gy.p1,gA.r,gA.p0))+"Z"}function gx(gB,gE,gF,gC){var gA=gE.call(gB,gF,gC),gD=gu.call(gB,gA,gC),gz=gw.call(gB,gA,gC)+fZ,gy=gs.call(gB,gA,gC)+fZ;return{r:gD,a0:gz,a1:gy,p0:[gD*Math.cos(gz),gD*Math.sin(gz)],p1:[gD*Math.cos(gy),gD*Math.sin(gy)]}}function gq(gz,gy){return gz.a0==gy.a0&&gz.a1==gy.a1}function d3(gz,gA,gy){return"A"+gz+","+gz+" 0 "+ +(gy>eN)+",1 "+gA}function gr(gz,gB,gy,gA){return"Q 0,0 "+gA}gt.radius=function(gy){if(!arguments.length){return gu}gu=L(gy);return gt};gt.source=function(gy){if(!arguments.length){return e}e=L(gy);return gt};gt.target=function(gy){if(!arguments.length){return gv}gv=L(gy);return gt};gt.startAngle=function(gy){if(!arguments.length){return gw}gw=L(gy);return gt};gt.endAngle=function(gy){if(!arguments.length){return gs}gs=L(gy);return gt};return gt};function C(e){return e.radius}fK.svg.diagonal=function(){var gq=f0,gr=f9,e=l;function d3(gw,gt){var gx=gq.call(this,gw,gt),gu=gr.call(this,gw,gt),gs=(gx.y+gu.y)/2,gv=[gx,{x:gx.x,y:gs},{x:gu.x,y:gs},gu];gv=gv.map(e);return"M"+gv[0]+"C"+gv[1]+" "+gv[2]+" "+gv[3]}d3.source=function(gs){if(!arguments.length){return gq}gq=L(gs);return d3};d3.target=function(gs){if(!arguments.length){return gr}gr=L(gs);return d3};d3.projection=function(gs){if(!arguments.length){return e}e=gs;return d3};return d3};function l(e){return[e.x,e.y]}fK.svg.diagonal.radial=function(){var gq=fK.svg.diagonal(),e=l,d3=gq.projection;gq.projection=function(gr){return arguments.length?d3(m(e=gr)):e};return gq};function m(e){return function(){var gr=e.apply(this,arguments),gq=gr[0],d3=gr[1]+fZ;return[gq*Math.cos(d3),gq*Math.sin(d3)]}}fK.svg.symbol=function(){var d3=aA,e=dN;function gq(gs,gr){return(f7.get(d3.call(this,gs,gr))||bx)(e.call(this,gs,gr))}gq.type=function(gr){if(!arguments.length){return d3}d3=L(gr);return gq};gq.size=function(gr){if(!arguments.length){return e}e=L(gr);return gq};return gq};function dN(){return 64}function aA(){return"circle"}function bx(e){var d3=Math.sqrt(e/eN);return"M0,"+d3+"A"+d3+","+d3+" 0 1,1 0,"+-d3+"A"+d3+","+d3+" 0 1,1 0,"+d3+"Z"}var f7=fK.map({circle:bx,cross:function(e){var d3=Math.sqrt(e/5)/2;return"M"+-3*d3+","+-d3+"H"+-d3+"V"+-3*d3+"H"+d3+"V"+-d3+"H"+3*d3+"V"+d3+"H"+d3+"V"+3*d3+"H"+-d3+"V"+d3+"H"+-3*d3+"Z"},diamond:function(e){var d3=Math.sqrt(e/(2*bD)),gq=d3*bD;return"M0,"+-d3+"L"+gq+",0 0,"+d3+" "+-gq+",0Z"},square:function(e){var d3=Math.sqrt(e)/2;return"M"+-d3+","+-d3+"L"+d3+","+-d3+" "+d3+","+d3+" "+-d3+","+d3+"Z"},"triangle-down":function(e){var gq=Math.sqrt(e/br),d3=gq*br/2;return"M0,"+d3+"L"+gq+","+-d3+" "+-gq+","+-d3+"Z"},"triangle-up":function(e){var gq=Math.sqrt(e/br),d3=gq*br/2;return"M0,"+-d3+"L"+gq+","+d3+" "+-gq+","+d3+"Z"}});fK.svg.symbolTypes=f7.keys();var br=Math.sqrt(3),bD=Math.tan(30*D);fK.svg.axis=function(){var gr=fK.scale.linear(),gu=gd,gs=6,e=6,d3=6,gy=3,gx=[10],gt=null,gw,gv=0;function gq(gz){gz.each(function(){var gV=fK.select(this);var gX=gt==null?gr.ticks?gr.ticks.apply(gr,gx):gr.domain():gt,gO=gw==null?gr.tickFormat?gr.tickFormat.apply(gr,gx):String:gw;var gE=b9(gr,gX,gv),gD=gV.selectAll(".tick.minor").data(gE,String),gQ=gD.enter().insert("line",".tick").attr("class","tick minor").style("opacity",0.000001),gP=fK.transition(gD.exit()).style("opacity",0.000001).remove(),gB=fK.transition(gD).style("opacity",1);var gT=gV.selectAll(".tick.major").data(gX,String),gL=gT.enter().insert("g","path").attr("class","tick major").style("opacity",0.000001),gN=fK.transition(gT.exit()).style("opacity",0.000001).remove(),gG=fK.transition(gT).style("opacity",1),gA;var gK=aE(gr),gM=gV.selectAll(".domain").data([0]),gY=(gM.enter().append("path").attr("class","domain"),fK.transition(gM));var gR=gr.copy(),gS=this.__chart__||gR;this.__chart__=gR;gL.append("line");gL.append("text");var gC=gL.select("line"),gW=gG.select("line"),gJ=gT.select("text").text(gO),gF=gL.select("text"),gU=gG.select("text");switch(gu){case"bottom":gA=d8;gQ.attr("y2",e);gB.attr("x2",0).attr("y2",e);gC.attr("y2",gs);gF.attr("y",Math.max(gs,0)+gy);gW.attr("x2",0).attr("y2",gs);gU.attr("x",0).attr("y",Math.max(gs,0)+gy);gJ.attr("dy",".71em").style("text-anchor","middle");gY.attr("d","M"+gK[0]+","+d3+"V0H"+gK[1]+"V"+d3);break;case"top":gA=d8;gQ.attr("y2",-e);gB.attr("x2",0).attr("y2",-e);gC.attr("y2",-gs);gF.attr("y",-(Math.max(gs,0)+gy));gW.attr("x2",0).attr("y2",-gs);gU.attr("x",0).attr("y",-(Math.max(gs,0)+gy));gJ.attr("dy","0em").style("text-anchor","middle");gY.attr("d","M"+gK[0]+","+-d3+"V0H"+gK[1]+"V"+-d3);break;case"left":gA=d7;gQ.attr("x2",-e);gB.attr("x2",-e).attr("y2",0);gC.attr("x2",-gs);gF.attr("x",-(Math.max(gs,0)+gy));gW.attr("x2",-gs).attr("y2",0);gU.attr("x",-(Math.max(gs,0)+gy)).attr("y",0);gJ.attr("dy",".32em").style("text-anchor","end");gY.attr("d","M"+-d3+","+gK[0]+"H0V"+gK[1]+"H"+-d3);break;case"right":gA=d7;gQ.attr("x2",e);gB.attr("x2",e).attr("y2",0);gC.attr("x2",gs);gF.attr("x",Math.max(gs,0)+gy);gW.attr("x2",gs).attr("y2",0);gU.attr("x",Math.max(gs,0)+gy).attr("y",0);gJ.attr("dy",".32em").style("text-anchor","start");gY.attr("d","M"+d3+","+gK[0]+"H0V"+gK[1]+"H"+d3);break}if(gr.ticks){gL.call(gA,gS);gG.call(gA,gR);gN.call(gA,gR);gQ.call(gA,gS);gB.call(gA,gR);gP.call(gA,gR)}else{var gI=gR.rangeBand()/2,gH=function(gZ){return gR(gZ)+gI};gL.call(gA,gH);gG.call(gA,gH)}})}gq.scale=function(gz){if(!arguments.length){return gr}gr=gz;return gq};gq.orient=function(gz){if(!arguments.length){return gu}gu=gz in dH?gz+"":gd;return gq};gq.ticks=function(){if(!arguments.length){return gx}gx=arguments;return gq};gq.tickValues=function(gz){if(!arguments.length){return gt}gt=gz;return gq};gq.tickFormat=function(gz){if(!arguments.length){return gw}gw=gz;return gq};gq.tickSize=function(gz,gB){if(!arguments.length){return gs}var gA=arguments.length-1;gs=+gz;e=gA>1?+gB:gs;d3=gA>0?+arguments[gA]:gs;return gq};gq.tickPadding=function(gz){if(!arguments.length){return gy}gy=+gz;return gq};gq.tickSubdivide=function(gz){if(!arguments.length){return gv}gv=+gz;return gq};return gq};var gd="bottom",dH={top:1,right:1,bottom:1,left:1};function d8(d3,e){d3.attr("transform",function(gq){return"translate("+e(gq)+",0)"})}function d7(e,d3){e.attr("transform",function(gq){return"translate(0,"+d3(gq)+")"})}function b9(gq,gu,d3){gv=[];if(d3&&gu.length>1){var gx=db(gq.domain()),gv,gs=-1,e=gu.length,gt=(gu[1]-gu[0])/++d3,gr,gw;while(++gs<e){for(gr=d3;--gr>0;){if((gw=+gu[gs]-gr*gt)>=gx[0]){gv.push(gw)}}}for(--gs,gr=0;++gr<d3&&(gw=+gu[gs]+gr*gt)<gx[1];){gv.push(gw)}}return gv}fK.svg.brush=function(){var e=fG(gs,"brushstart","brush","brushend"),gu=null,gt=null,gv=ae[0],gy=[[0,0],[0,0]],d3;function gs(gz){gz.each(function(){var gC=fK.select(this),gB=gC.selectAll(".background").data([0]),gA=gC.selectAll(".extent").data([0]),gE=gC.selectAll(".resize").data(gv,String),gD;gC.style("pointer-events","all").on("mousedown.brush",gw).on("touchstart.brush",gw);gB.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");gA.enter().append("rect").attr("class","extent").style("cursor","move");gE.enter().append("g").attr("class",function(gF){return"resize "+gF}).style("cursor",function(gF){return dz[gF]}).append("rect").attr("x",function(gF){return/[ew]$/.test(gF)?-3:null}).attr("y",function(gF){return/^[ns]/.test(gF)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");gE.style("display",gs.empty()?"none":null);gE.exit().remove();if(gu){gD=aE(gu);gB.attr("x",gD[0]).attr("width",gD[1]-gD[0]);gr(gC)}if(gt){gD=aE(gt);gB.attr("y",gD[0]).attr("height",gD[1]-gD[0]);gq(gC)}gx(gC)})}function gx(gz){gz.selectAll(".resize").attr("transform",function(gA){return"translate("+gy[+/e$/.test(gA)][0]+","+gy[+/^s/.test(gA)][1]+")"})}function gr(gz){gz.select(".extent").attr("x",gy[0][0]);gz.selectAll(".extent,.n>rect,.s>rect").attr("width",gy[1][0]-gy[0][0])}function gq(gz){gz.select(".extent").attr("y",gy[0][1]);gz.selectAll(".extent,.e>rect,.w>rect").attr("height",gy[1][1]-gy[0][1])}function gw(){var gS=this,gA=fK.select(fK.event.target),gG=e.of(gS,arguments),gN=fK.select(gS),gP=gA.datum(),gL=!/^(n|s)$/.test(gP)&&gu,gJ=!/^(e|w)$/.test(gP)&&gt,gK=gA.classed("extent"),gQ,gR=gH(),gB;var gE=fK.select(ei).on("mousemove.brush",gF).on("mouseup.brush",gz).on("touchmove.brush",gF).on("touchend.brush",gz).on("keydown.brush",gI).on("keyup.brush",gD);if(gK){gR[0]=gy[0][0]-gR[0];gR[1]=gy[0][1]-gR[1]}else{if(gP){var gO=+/w$/.test(gP),gM=+/^n/.test(gP);gB=[gy[1-gO][0]-gR[0],gy[1-gM][1]-gR[1]];gR[0]=gy[gO][0];gR[1]=gy[gM][1]}else{if(fK.event.altKey){gQ=gR.slice()}}}gN.style("pointer-events","none").selectAll(".resize").style("display",null);fK.select("body").style("cursor",gA.style("cursor"));gG({type:"brushstart"});gF();f1();function gH(){var gT=fK.event.changedTouches;return gT?fK.touches(gS,gT)[0]:fK.mouse(gS)}function gI(){if(fK.event.keyCode==32){if(!gK){gQ=null;gR[0]-=gy[1][0];gR[1]-=gy[1][1];gK=2}f1()}}function gD(){if(fK.event.keyCode==32&&gK==2){gR[0]+=gy[1][0];gR[1]+=gy[1][1];gK=0;f1()}}function gF(){var gT=gH(),gU=false;if(gB){gT[0]+=gB[0];gT[1]+=gB[1]}if(!gK){if(fK.event.altKey){if(!gQ){gQ=[(gy[0][0]+gy[1][0])/2,(gy[0][1]+gy[1][1])/2]}gR[0]=gy[+(gT[0]<gQ[0])][0];gR[1]=gy[+(gT[1]<gQ[1])][1]}else{gQ=null}}if(gL&&gC(gT,gu,0)){gr(gN);gU=true}if(gJ&&gC(gT,gt,1)){gq(gN);gU=true}if(gU){gx(gN);gG({type:"brush",mode:gK?"move":"resize"})}}function gC(g1,gV,gX){var gY=aE(gV),gU=gY[0],gT=gY[1],gZ=gR[gX],g2=gy[1][gX]-gy[0][gX],gW,g0;if(gK){gU-=gZ;gT-=g2+gZ}gW=Math.max(gU,Math.min(gT,g1[gX]));if(gK){g0=(gW+=gZ)+g2}else{if(gQ){gZ=Math.max(gU,Math.min(gT,2*gQ[gX]-gW))}if(gZ<gW){g0=gW;gW=gZ}else{g0=gZ}}if(gy[0][gX]!==gW||gy[1][gX]!==g0){d3=null;gy[0][gX]=gW;gy[1][gX]=g0;return true}}function gz(){gF();gN.style("pointer-events","all").selectAll(".resize").style("display",gs.empty()?"none":null);fK.select("body").style("cursor",null);gE.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);gG({type:"brushend"});f1()}}gs.x=function(gz){if(!arguments.length){return gu}gu=gz;gv=ae[!gu<<1|!gt];return gs};gs.y=function(gz){if(!arguments.length){return gt}gt=gz;gv=ae[!gu<<1|!gt];return gs};gs.extent=function(gE){var gB,gz,gD,gC,gA;if(!arguments.length){gE=d3||gy;if(gu){gB=gE[0][0],gz=gE[1][0];if(!d3){gB=gy[0][0],gz=gy[1][0];if(gu.invert){gB=gu.invert(gB),gz=gu.invert(gz)}if(gz<gB){gA=gB,gB=gz,gz=gA}}}if(gt){gD=gE[0][1],gC=gE[1][1];if(!d3){gD=gy[0][1],gC=gy[1][1];if(gt.invert){gD=gt.invert(gD),gC=gt.invert(gC)}if(gC<gD){gA=gD,gD=gC,gC=gA}}}return gu&&gt?[[gB,gD],[gz,gC]]:gu?[gB,gz]:gt&&[gD,gC]}d3=[[0,0],[0,0]];if(gu){gB=gE[0],gz=gE[1];if(gt){gB=gB[0],gz=gz[0]}d3[0][0]=gB,d3[1][0]=gz;if(gu.invert){gB=gu(gB),gz=gu(gz)}if(gz<gB){gA=gB,gB=gz,gz=gA}gy[0][0]=gB|0,gy[1][0]=gz|0}if(gt){gD=gE[0],gC=gE[1];if(gu){gD=gD[1],gC=gC[1]}d3[0][1]=gD,d3[1][1]=gC;if(gt.invert){gD=gt(gD),gC=gt(gC)}if(gC<gD){gA=gD,gD=gC,gC=gA}gy[0][1]=gD|0,gy[1][1]=gC|0}return gs};gs.clear=function(){d3=null;gy[0][0]=gy[0][1]=gy[1][0]=gy[1][1]=0;return gs};gs.empty=function(){return gu&&gy[0][0]===gy[1][0]||gt&&gy[0][1]===gy[1][1]};return fK.rebind(gs,e,"on")};var dz={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ae=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];fK.behavior={};fK.behavior.drag=function(){var gr=fG(gq,"drag","dragstart","dragend"),e=null;function gq(){this.on("mousedown.drag",d3).on("touchstart.drag",d3)}function d3(){var gu=this,gz=gr.of(gu,arguments),gy=fK.event.target,gB=fK.event.touches?fK.event.changedTouches[0].identifier:null,gt,gv=gx(),gw=0;var gA=fK.select(ei).on(gB!=null?"touchmove.drag-"+gB:"mousemove.drag",gC).on(gB!=null?"touchend.drag-"+gB:"mouseup.drag",gs,true);if(e){gt=e.apply(gu,arguments);gt=[gt.x-gv[0],gt.y-gv[1]]}else{gt=[0,0]}if(gB==null){f1()}gz({type:"dragstart"});function gx(){var gE=gu.parentNode;return gB!=null?fK.touches(gE).filter(function(gF){return gF.identifier===gB})[0]:fK.mouse(gE)}function gC(){if(!gu.parentNode){return gs()}var gG=gx(),gF=gG[0]-gv[0],gE=gG[1]-gv[1];gw|=gF|gE;gv=gG;f1();gz({type:"drag",x:gG[0]+gt[0],y:gG[1]+gt[1],dx:gF,dy:gE})}function gs(){gz({type:"dragend"});if(gw){f1();if(fK.event.target===gy){gA.on("click.drag",gD,true)}}gA.on(gB!=null?"touchmove.drag-"+gB:"mousemove.drag",null).on(gB!=null?"touchend.drag-"+gB:"mouseup.drag",null)}function gD(){f1();gA.on("click.drag",null)}}gq.origin=function(gs){if(!arguments.length){return e}e=gs;return gq};return fK.rebind(gq,gr,"on")};fK.behavior.zoom=function(){var gw=[0,0],gH,gL=1,gD,gq=eB,gC=fG(e,"zoom"),gG,gE,gs,gr,gu;function e(){this.on("mousedown.zoom",gA).on("mousemove.zoom",gI).on(fw+".zoom",gz).on("dblclick.zoom",gx).on("touchstart.zoom",gF).on("touchmove.zoom",gy).on("touchend.zoom",gF)}e.translate=function(gM){if(!arguments.length){return gw}gw=gM.map(Number);gv();return e};e.scale=function(gM){if(!arguments.length){return gL}gL=+gM;gv();return e};e.scaleExtent=function(gM){if(!arguments.length){return gq}gq=gM==null?eB:gM.map(Number);return e};e.x=function(gM){if(!arguments.length){return gE}gE=gM;gG=gM.copy();gw=[0,0];gL=1;return e};e.y=function(gM){if(!arguments.length){return gr}gr=gM;gs=gM.copy();gw=[0,0];gL=1;return e};function d3(gM){return[(gM[0]-gw[0])/gL,(gM[1]-gw[1])/gL]}function gB(gM){return[gM[0]*gL+gw[0],gM[1]*gL+gw[1]]}function gt(gM){gL=Math.max(gq[0],Math.min(gq[1],gM))}function gJ(gN,gM){gM=gB(gM);gw[0]+=gN[0]-gM[0];gw[1]+=gN[1]-gM[1]}function gv(){if(gE){gE.domain(gG.range().map(function(gM){return(gM-gw[0])/gL}).map(gG.invert))}if(gr){gr.domain(gs.range().map(function(gM){return(gM-gw[1])/gL}).map(gs.invert))}}function gK(gM){gv();fK.event.preventDefault();gM({type:"zoom",scale:gL,translate:gw})}function gA(){var gP=this,gS=gC.of(gP,arguments),gR=fK.event.target,gQ=0,gT=fK.select(ei).on("mousemove.zoom",gO).on("mouseup.zoom",gN),gM=d3(fK.mouse(gP));ei.focus();f1();function gO(){gQ=1;gJ(fK.mouse(gP),gM);gK(gS)}function gN(){if(gQ){f1()}gT.on("mousemove.zoom",null).on("mouseup.zoom",null);if(gQ&&fK.event.target===gR){gT.on("click.zoom",gU,true)}}function gU(){f1();gT.on("click.zoom",null)}}function gz(){if(!gH){gH=d3(fK.mouse(this))}gt(Math.pow(2,bP()*0.002)*gL);gJ(fK.mouse(this),gH);gK(gC.of(this,arguments))}function gI(){gH=null}function gx(){var gO=fK.mouse(this),gM=d3(gO),gN=Math.log(gL)/Math.LN2;gt(Math.pow(2,fK.event.shiftKey?Math.ceil(gN)-1:Math.floor(gN)+1));gJ(gO,gM);gK(gC.of(this,arguments))}function gF(){var gP=fK.touches(this),gN=Date.now();gD=gL;gH={};gP.forEach(function(gQ){gH[gQ.identifier]=d3(gQ)});f1();if(gP.length===1){if(gN-gu<500){var gO=gP[0],gM=d3(gP[0]);gt(gL*2);gJ(gO,gM);gK(gC.of(this,arguments))}gu=gN}}function gy(){var gO=fK.touches(this),gQ=gO[0],gN=gH[gQ.identifier];if(gP=gO[1]){var gP,gM=gH[gP.identifier];gQ=[(gQ[0]+gP[0])/2,(gQ[1]+gP[1])/2];gN=[(gN[0]+gM[0])/2,(gN[1]+gM[1])/2];gt(fK.event.scale*gD)}gJ(gQ,gN);gu=null;gK(gC.of(this,arguments))}return fK.rebind(e,gC,"on")};var eB=[0,Infinity];var bP,fw="onwheel" in document?(bP=function(){return -fK.event.deltaY*(fK.event.deltaMode?120:1)},"wheel"):"onmousewheel" in document?(bP=function(){return fK.event.wheelDelta},"mousewheel"):(bP=function(){return -fK.event.detail},"MozMousePixelScroll");fK.layout={};fK.layout.bundle=function(){return function(e){var gq=[],d3=-1,gr=e.length;while(++d3<gr){gq.push(dq(e[d3]))}return gq}};function dq(gr){var gt=gr.source,e=gr.target,gs=es(gt,e),gq=[gt];while(gt!==gs){gt=gt.parent;gq.push(gt)}var d3=gq.length;while(e!==gs){gq.splice(d3,0,e);e=e.parent}return gq}function ea(gq){var d3=[],e=gq.parent;while(e!=null){d3.push(gq);gq=e;e=e.parent}d3.push(gq);return d3}function es(gr,d3){if(gr===d3){return gr}var gq=ea(gr),e=ea(d3),gs=gq.pop(),gt=e.pop(),gu=null;while(gs===gt){gu=gs;gs=gq.pop();gt=e.pop()}return gu}fK.layout.chord=function(){var gt={},gu,gr,gy,gq,gx=0,e,d3,gs;function gw(){var gD={},gG=[],gO=fK.range(gq),gK=[],gE,gM,gC,gH,gF;gu=[];gr=[];gE=0,gH=-1;while(++gH<gq){gM=0,gF=-1;while(++gF<gq){gM+=gy[gH][gF]}gG.push(gM);gK.push(fK.range(gq));gE+=gM}if(e){gO.sort(function(gQ,gP){return e(gG[gQ],gG[gP])})}if(d3){gK.forEach(function(gQ,gP){gQ.sort(function(gS,gR){return d3(gy[gP][gS],gy[gP][gR])})})}gE=(2*eN-gx*gq)/gE;gM=0,gH=-1;while(++gH<gq){gC=gM,gF=-1;while(++gF<gq){var gL=gO[gH],gJ=gK[gL][gF],gN=gy[gL][gJ],gB=gM,gA=gM+=gN*gE;gD[gL+"-"+gJ]={index:gL,subindex:gJ,startAngle:gB,endAngle:gA,value:gN}}gr[gL]={index:gL,startAngle:gC,endAngle:gM,value:(gM-gC)/gE};gM+=gx}gH=-1;while(++gH<gq){gF=gH-1;while(++gF<gq){var gz=gD[gH+"-"+gF],gI=gD[gF+"-"+gH];if(gz.value||gI.value){gu.push(gz.value<gI.value?{source:gI,target:gz}:{source:gz,target:gI})}}}if(gs){gv()}}function gv(){gu.sort(function(gA,gz){return gs((gA.source.value+gA.target.value)/2,(gz.source.value+gz.target.value)/2)})}gt.matrix=function(gz){if(!arguments.length){return gy}gq=(gy=gz)&&gy.length;gu=gr=null;return gt};gt.padding=function(gz){if(!arguments.length){return gx}gx=gz;gu=gr=null;return gt};gt.sortGroups=function(gz){if(!arguments.length){return e}e=gz;gu=gr=null;return gt};gt.sortSubgroups=function(gz){if(!arguments.length){return d3}d3=gz;gu=null;return gt};gt.sortChords=function(gz){if(!arguments.length){return gs}gs=gz;if(gu){gv()}return gt};gt.chords=function(){if(!gu){gw()}return gu};gt.groups=function(){if(!gr){gw()}return gr};return gt};fK.layout.force=function(){var d3={},gC=fK.dispatch("start","tick","end"),gy=[1,1],gE,gs,gv=0.9,gF=ew,gr=bK,gB=-30,gt=0.1,gw=0.8,gA=[],gq=[],gu,e,gx;function gD(gG){return function(gJ,gO,gN,gM){if(gJ.point!==gG){var gL=gJ.cx-gG.x,gI=gJ.cy-gG.y,gH=1/Math.sqrt(gL*gL+gI*gI);if((gM-gO)*gH<gw){var gK=gJ.charge*gH*gH;gG.px-=gL*gK;gG.py-=gI*gK;return true}if(gJ.point&&isFinite(gH)){var gK=gJ.pointCharge*gH*gH;gG.px-=gL*gK;gG.py-=gI*gK}}return !gJ.charge}}d3.tick=function(){if((gs*=0.99)<0.005){gC.end({type:"end",alpha:gs=0});return true}var gI=gA.length,gJ=gq.length,gG,gM,gH,gQ,gP,gK,gL,gO,gN;for(gM=0;gM<gJ;++gM){gH=gq[gM];gQ=gH.source;gP=gH.target;gO=gP.x-gQ.x;gN=gP.y-gQ.y;if(gK=gO*gO+gN*gN){gK=gs*e[gM]*((gK=Math.sqrt(gK))-gu[gM])/gK;gO*=gK;gN*=gK;gP.x-=gO*(gL=gQ.weight/(gP.weight+gQ.weight));gP.y-=gN*gL;gQ.x+=gO*(gL=1-gL);gQ.y+=gN*gL}}if(gL=gs*gt){gO=gy[0]/2;gN=gy[1]/2;gM=-1;if(gL){while(++gM<gI){gH=gA[gM];gH.x+=(gO-gH.x)*gL;gH.y+=(gN-gH.y)*gL}}}if(gB){e9(gG=fK.geom.quadtree(gA),gs,gx);gM=-1;while(++gM<gI){if(!(gH=gA[gM]).fixed){gG.visit(gD(gH))}}}gM=-1;while(++gM<gI){gH=gA[gM];if(gH.fixed){gH.x=gH.px;gH.y=gH.py}else{gH.x-=(gH.px-(gH.px=gH.x))*gv;gH.y-=(gH.py-(gH.py=gH.y))*gv}}gC.tick({type:"tick",alpha:gs})};d3.nodes=function(gG){if(!arguments.length){return gA}gA=gG;return d3};d3.links=function(gG){if(!arguments.length){return gq}gq=gG;return d3};d3.size=function(gG){if(!arguments.length){return gy}gy=gG;return d3};d3.linkDistance=function(gG){if(!arguments.length){return gF}gF=typeof gG==="function"?gG:+gG;return d3};d3.distance=d3.linkDistance;d3.linkStrength=function(gG){if(!arguments.length){return gr}gr=typeof gG==="function"?gG:+gG;return d3};d3.friction=function(gG){if(!arguments.length){return gv}gv=+gG;return d3};d3.charge=function(gG){if(!arguments.length){return gB}gB=typeof gG==="function"?gG:+gG;return d3};d3.gravity=function(gG){if(!arguments.length){return gt}gt=+gG;return d3};d3.theta=function(gG){if(!arguments.length){return gw}gw=+gG;return d3};d3.alpha=function(gG){if(!arguments.length){return gs}gG=+gG;if(gs){if(gG>0){gs=gG}else{gs=0}}else{if(gG>0){gC.start({type:"start",alpha:gs=gG});fK.timer(d3.tick)}}return d3};d3.start=function(){var gK,gJ,gH=gA.length,gI=gq.length,gN=gy[0],gM=gy[1],gP,gG;for(gK=0;gK<gH;++gK){(gG=gA[gK]).index=gK;gG.weight=0}for(gK=0;gK<gI;++gK){gG=gq[gK];if(typeof gG.source=="number"){gG.source=gA[gG.source]}if(typeof gG.target=="number"){gG.target=gA[gG.target]}++gG.source.weight;++gG.target.weight}for(gK=0;gK<gH;++gK){gG=gA[gK];if(isNaN(gG.x)){gG.x=gL("x",gN)}if(isNaN(gG.y)){gG.y=gL("y",gM)}if(isNaN(gG.px)){gG.px=gG.x}if(isNaN(gG.py)){gG.py=gG.y}}gu=[];if(typeof gF==="function"){for(gK=0;gK<gI;++gK){gu[gK]=+gF.call(this,gq[gK],gK)}}else{for(gK=0;gK<gI;++gK){gu[gK]=gF}}e=[];if(typeof gr==="function"){for(gK=0;gK<gI;++gK){e[gK]=+gr.call(this,gq[gK],gK)}}else{for(gK=0;gK<gI;++gK){e[gK]=gr}}gx=[];if(typeof gB==="function"){for(gK=0;gK<gH;++gK){gx[gK]=+gB.call(this,gA[gK],gK)}}else{for(gK=0;gK<gH;++gK){gx[gK]=gB}}function gL(gV,gU){var gT=gO(gK),gS=-1,gR=gT.length,gQ;while(++gS<gR){if(!isNaN(gQ=gT[gS][gV])){return gQ}}return Math.random()*gU}function gO(){if(!gP){gP=[];for(gJ=0;gJ<gH;++gJ){gP[gJ]=[]}for(gJ=0;gJ<gI;++gJ){var gQ=gq[gJ];gP[gQ.source.index].push(gQ.target);gP[gQ.target.index].push(gQ.source)}}return gP[gK]}return d3.resume()};d3.resume=function(){return d3.alpha(0.1)};d3.stop=function(){return d3.alpha(0)};d3.drag=function(){if(!gE){gE=fK.behavior.drag().origin(eX).on("dragstart.force",p).on("drag.force",gz).on("dragend.force",c4)}if(!arguments.length){return gE}this.on("mouseover.force",bO).on("mouseout.force",c8).call(gE)};function gz(gG){gG.px=fK.event.x,gG.py=fK.event.y;d3.resume()}return fK.rebind(d3,gC,"on")};function p(e){e.fixed|=2}function c4(e){e.fixed&=~6}function bO(e){e.fixed|=4;e.px=e.x,e.py=e.y}function c8(e){e.fixed&=~4}function e9(gx,gs,gw){var gt=0,gq=0;gx.charge=0;if(!gx.leaf){var e=gx.nodes,d3=e.length,gu=-1,gv;while(++gu<d3){gv=e[gu];if(gv==null){continue}e9(gv,gs,gw);gx.charge+=gv.charge;gt+=gv.charge*gv.cx;gq+=gv.charge*gv.cy}}if(gx.point){if(!gx.leaf){gx.point.x+=Math.random()-0.5;gx.point.y+=Math.random()-0.5}var gr=gs*gw[gx.point.index];gx.charge+=gx.pointCharge=gr;gt+=gr*gx.point.x;gq+=gr*gx.point.y}gx.cx=gt/gx.charge;gx.cy=gq/gx.charge}var ew=20,bK=1;fK.layout.partition=function(){var gq=fK.layout.hierarchy(),gr=[1,1];function e(gv,gz,gB,gA){var gt=gv.children;gv.x=gz;gv.y=gv.depth*gA;gv.dx=gB;gv.dy=gA;if(gt&&(gu=gt.length)){var gw=-1,gu,gy,gx;gB=gv.value?gB/gv.value:0;while(++gw<gu){e(gy=gt[gw],gz,gx=gy.value*gB,gA);gz+=gx}}}function gs(gv){var gu=gv.children,gw=0;if(gu&&(gx=gu.length)){var gt=-1,gx;while(++gt<gx){gw=Math.max(gw,gs(gu[gt]))}}return 1+gw}function d3(gv,gu){var gt=gq.call(this,gv,gu);e(gt[0],0,gr[0],gr[1]/gs(gt[0]));return gt}d3.size=function(gt){if(!arguments.length){return gr}gr=gt;return d3};return e3(d3,gq)};fK.layout.pie=function(){var gs=Number,gr=O,gq=0,d3=2*eN;function e(gy){var gv=gy.map(function(gA,gz){return +gs.call(e,gA,gz)});var gt=+(typeof gq==="function"?gq.apply(this,arguments):gq);var gu=((typeof d3==="function"?d3.apply(this,arguments):d3)-gq)/fK.sum(gv);var gw=fK.range(gy.length);if(gr!=null){gw.sort(gr===O?function(gA,gz){return gv[gz]-gv[gA]}:function(gA,gz){return gr(gy[gA],gy[gz])})}var gx=[];gw.forEach(function(gz){var gA;gx[gz]={data:gy[gz],value:gA=gv[gz],startAngle:gt,endAngle:gt+=gA*gu}});return gx}e.value=function(gt){if(!arguments.length){return gs}gs=gt;return e};e.sort=function(gt){if(!arguments.length){return gr}gr=gt;return e};e.startAngle=function(gt){if(!arguments.length){return gq}gq=gt;return e};e.endAngle=function(gt){if(!arguments.length){return d3}d3=gt;return e};return e};var O={};fK.layout.stack=function(){var gr=eX,gq=be,gt=en,gs=eo,d3=Z,gu=Y;function e(gC,gE){var gD=gC.map(function(gH,gG){return gr.call(e,gH,gG)});var gF=gD.map(function(gG){return gG.map(function(gH,gI){return[d3.call(e,gH,gI),gu.call(e,gH,gI)]})});var gz=gq.call(e,gF,gE);gD=fK.permute(gD,gz);gF=fK.permute(gF,gz);var gy=gt.call(e,gF,gE);var gw=gD.length,gx=gD[0].length,gB,gA,gv;for(gA=0;gA<gx;++gA){gs.call(e,gD[0][gA],gv=gy[gA],gF[0][gA][1]);for(gB=1;gB<gw;++gB){gs.call(e,gD[gB][gA],gv+=gF[gB-1][gA][1],gF[gB][gA][1])}}return gC}e.values=function(gv){if(!arguments.length){return gr}gr=gv;return e};e.order=function(gv){if(!arguments.length){return gq}gq=typeof gv==="function"?gv:aI.get(gv)||be;return e};e.offset=function(gv){if(!arguments.length){return gt}gt=typeof gv==="function"?gv:V.get(gv)||en;return e};e.x=function(gv){if(!arguments.length){return d3}d3=gv;return e};e.y=function(gv){if(!arguments.length){return gu}gu=gv;return e};e.out=function(gv){if(!arguments.length){return gs}gs=gv;return e};return e};function Z(e){return e.x}function Y(e){return e.y}function eo(d3,e,gq){d3.y0=e;d3.y=gq}var aI=fK.map({"inside-out":function(gs){var gq=gs.length,gt,gr,gx=gs.map(bk),gu=gs.map(cv),gv=fK.range(gq).sort(function(gA,gz){return gx[gA]-gx[gz]}),gw=0,e=0,gy=[],d3=[];for(gt=0;gt<gq;++gt){gr=gv[gt];if(gw<e){gw+=gu[gr];gy.push(gr)}else{e+=gu[gr];d3.push(gr)}}return d3.reverse().concat(gy)},reverse:function(e){return fK.range(e.length).reverse()},"default":be});var V=fK.map({silhouette:function(gs){var d3=gs.length,gq=gs[0].length,gu=[],gv=0,gt,gr,e,gw=[];for(gr=0;gr<gq;++gr){for(gt=0,e=0;gt<d3;gt++){e+=gs[gt][gr][1]}if(e>gv){gv=e}gu.push(e)}for(gr=0;gr<gq;++gr){gw[gr]=(gv-gu[gr])/2}return gw},wiggle:function(gu){var d3=gu.length,gx=gu[0],gq=gx.length,gv,gt,gs,gA,gz,gw,gB,e,gr,gy=[];gy[0]=e=gr=0;for(gt=1;gt<gq;++gt){for(gv=0,gA=0;gv<d3;++gv){gA+=gu[gv][gt][1]}for(gv=0,gz=0,gB=gx[gt][0]-gx[gt-1][0];gv<d3;++gv){for(gs=0,gw=(gu[gv][gt][1]-gu[gv][gt-1][1])/(2*gB);gs<gv;++gs){gw+=(gu[gs][gt][1]-gu[gs][gt-1][1])/gB}gz+=gw*gu[gv][gt][1]}gy[gt]=e-=gA?gz/gA*gB:0;if(e<gr){gr=e}}for(gt=0;gt<gq;++gt){gy[gt]-=gr}return gy},expand:function(gt){var gv=gt.length,e=gt[0].length,d3=1/gv,gr,gq,gu,gs=[];for(gq=0;gq<e;++gq){for(gr=0,gu=0;gr<gv;gr++){gu+=gt[gr][gq][1]}if(gu){for(gr=0;gr<gv;gr++){gt[gr][gq][1]/=gu}}else{for(gr=0;gr<gv;gr++){gt[gr][gq][1]=d3}}}for(gq=0;gq<e;++gq){gs[gq]=0}return gs},zero:en});function be(e){return fK.range(e.length)}function en(gr){var d3=-1,e=gr[0].length,gq=[];while(++d3<e){gq[d3]=0}return gq}function bk(gt){var gr=1,gq=0,d3=gt[0][1],e,gs=gt.length;for(;gr<gs;++gr){if((e=gt[gr][1])>d3){gq=gr;d3=e}}return gq}function cv(e){return e.reduce(em,0)}function em(e,d3){return e+d3[1]}fK.layout.histogram=function(){var gs=true,d3=Number,e=aT,gq=fS;function gr(gw,gx){var gC=[],gA=gw.map(d3,this),gy=e.call(this,gA,gx),gB=gq.call(this,gy,gA,gx),gD,gx=-1,gt=gA.length,gu=gB.length-1,gv=gs?1:1/gt,gz;while(++gx<gu){gD=gC[gx]=[];gD.dx=gB[gx+1]-(gD.x=gB[gx]);gD.y=0}if(gu>0){gx=-1;while(++gx<gt){gz=gA[gx];if(gz>=gy[0]&&gz<=gy[1]){gD=gC[fK.bisect(gB,gz,1,gu)-1];gD.y+=gv;gD.push(gw[gx])}}}return gC}gr.value=function(gt){if(!arguments.length){return d3}d3=gt;return gr};gr.range=function(gt){if(!arguments.length){return e}e=L(gt);return gr};gr.bins=function(gt){if(!arguments.length){return gq}gq=typeof gt==="number"?function(gu){return h(gu,gt)}:L(gt);return gr};gr.frequency=function(gt){if(!arguments.length){return gs}gs=!!gt;return gr};return gr};function fS(d3,e){return h(d3,Math.ceil(Math.log(e.length)/Math.LN2+1))}function h(gr,gt){var gq=-1,d3=+gr[0],e=(gr[1]-d3)/gt,gs=[];while(++gq<=gt){gs[gq]=e*gq+d3}return gs}function aT(e){return[fK.min(e),fK.max(e)]}fK.layout.hierarchy=function(){var gq=cO,d3=aL,gs=f4;function gr(gw,gy,gu){var gB=d3.call(e,gw,gy);gw.depth=gy;gu.push(gw);if(gB&&(gv=gB.length)){var gz=-1,gv,gC=gw.children=[],gD=0,gx=gy+1,gA;while(++gz<gv){gA=gr(gB[gz],gx,gu);gA.parent=gw;gC.push(gA);gD+=gA.value}if(gq){gC.sort(gq)}if(gs){gw.value=gD}}else{if(gs){gw.value=+gs.call(e,gw,gy)||0}}return gw}function gt(gy,gz){var gx=gy.children,gu=0;if(gx&&(gA=gx.length)){var gw=-1,gA,gv=gz+1;while(++gw<gA){gu+=gt(gx[gw],gv)}}else{if(gs){gu=+gs.call(e,gy,gz)||0}}if(gs){gy.value=gu}return gu}function e(gv){var gu=[];gr(gv,0,gu);return gu}e.sort=function(gu){if(!arguments.length){return gq}gq=gu;return e};e.children=function(gu){if(!arguments.length){return d3}d3=gu;return e};e.value=function(gu){if(!arguments.length){return gs}gs=gu;return e};e.revalue=function(gu){gt(gu,0);return gu};return e};function e3(d3,e){fK.rebind(d3,e,"sort","children","value");d3.nodes=d3;d3.links=e4;return d3}function aL(e){return e.children}function f4(e){return e.value}function cO(d3,e){return e.value-d3.value}function e4(e){return fK.merge(e.map(function(d3){return(d3.children||[]).map(function(gq){return{source:d3,target:gq}})}))}fK.layout.pack=function(){var e=fK.layout.hierarchy().sort(dh),gr=0,gq=[1,1];function d3(gz,gw){var gv=e.call(this,gz,gw),gt=gv[0];gt.x=0;gt.y=0;fX(gt,function(gA){gA.r=Math.sqrt(gA.value)});fX(gt,N);var gs=gq[0],gx=gq[1],gu=Math.max(2*gt.r/gs,2*gt.r/gx);if(gr>0){var gy=gr*gu/2;fX(gt,function(gA){gA.r+=gy});fX(gt,N);fX(gt,function(gA){gA.r-=gy});gu=Math.max(2*gt.r/gs,2*gt.r/gx)}d9(gt,gs/2,gx/2,1/gu);return gv}d3.size=function(gs){if(!arguments.length){return gq}gq=gs;return d3};d3.padding=function(gs){if(!arguments.length){return gr}gr=+gs;return d3};return e3(d3,e)};function dh(d3,e){return d3.value-e.value}function bf(d3,e){var gq=d3._pack_next;d3._pack_next=e;e._pack_prev=d3;e._pack_next=gq;gq._pack_prev=e}function aP(d3,e){d3._pack_next=e;e._pack_prev=d3}function c9(gq,e){var gr=e.x-gq.x,d3=e.y-gq.y,gs=gq.r+e.r;return gs*gs-gr*gr-d3*d3>0.001}function N(gz){if(!(gy=gz.children)||!(gx=gy.length)){return}var gy,gD=Infinity,gH=-Infinity,e=Infinity,gs=-Infinity,gG,gF,gE,gC,gB,gA,gx;function gq(gI){gD=Math.min(gI.x-gI.r,gD);gH=Math.max(gI.x+gI.r,gH);e=Math.min(gI.y-gI.r,e);gs=Math.max(gI.y+gI.r,gs)}gy.forEach(ax);gG=gy[0];gG.x=-gG.r;gG.y=0;gq(gG);if(gx>1){gF=gy[1];gF.x=gF.r;gF.y=0;gq(gF);if(gx>2){gE=gy[2];aN(gG,gF,gE);gq(gE);bf(gG,gE);gG._pack_prev=gE;bf(gE,gF);gF=gG._pack_next;for(gC=3;gC<gx;gC++){aN(gG,gF,gE=gy[gC]);var d3=0,gt=1,gr=1;for(gB=gF._pack_next;gB!==gF;gB=gB._pack_next,gt++){if(c9(gB,gE)){d3=1;break}}if(d3==1){for(gA=gG._pack_prev;gA!==gB._pack_prev;gA=gA._pack_prev,gr++){if(c9(gA,gE)){break}}}if(d3){if(gt<gr||gt==gr&&gF.r<gG.r){aP(gG,gF=gB)}else{aP(gG=gA,gF)}gC--}else{bf(gG,gE);gF=gE;gq(gE)}}}}var gv=(gD+gH)/2,gu=(e+gs)/2,gw=0;for(gC=0;gC<gx;gC++){gE=gy[gC];gE.x-=gv;gE.y-=gu;gw=Math.max(gw,gE.r+Math.sqrt(gE.x*gE.x+gE.y*gE.y))}gz.r=gw;gy.forEach(dt)}function ax(e){e._pack_next=e._pack_prev=e}function dt(e){delete e._pack_next;delete e._pack_prev}function d9(gs,e,gu,d3){var gr=gs.children;gs.x=e+=d3*gs.x;gs.y=gu+=d3*gs.y;gs.r*=d3;if(gr){var gq=-1,gt=gr.length;while(++gq<gt){d9(gr[gq],e,gu,d3)}}}function aN(gs,gq,e){var gu=gs.r+e.r,gx=gq.x-gs.x,gv=gq.y-gs.y;if(gu&&(gx||gv)){var gw=gq.r+e.r,gt=gx*gx+gv*gv;gw*=gw;gu*=gu;var gr=0.5+(gu-gw)/(2*gt),d3=Math.sqrt(Math.max(0,2*gw*(gu+gt)-(gu-=gt)*gu-gw*gw))/(2*gt);e.x=gs.x+gr*gx+d3*gv;e.y=gs.y+gr*gv-d3*gx}else{e.x=gs.x+gu;e.y=gs.y}}fK.layout.cluster=function(){var d3=fK.layout.hierarchy().sort(null).value(null),gr=cy,gq=[1,1];function e(gx,gw){var gs=d3.call(this,gx,gw),gy=gs[0],gz,gA=0;fX(gy,function(gD){var gC=gD.children;if(gC&&gC.length){gD.x=a2(gC);gD.y=a1(gC)}else{gD.x=gz?gA+=gr(gD,gz):0;gD.y=0;gz=gD}});var gv=di(gy),gB=cG(gy),gu=gv.x-gr(gv,gB)/2,gt=gB.x+gr(gB,gv)/2;fX(gy,function(gC){gC.x=(gC.x-gu)/(gt-gu)*gq[0];gC.y=(1-(gy.y?gC.y/gy.y:1))*gq[1]});return gs}e.separation=function(gs){if(!arguments.length){return gr}gr=gs;return e};e.size=function(gs){if(!arguments.length){return gq}gq=gs;return e};return e3(e,d3)};function a1(e){return 1+fK.max(e,function(d3){return d3.y})}function a2(e){return e.reduce(function(d3,gq){return d3+gq.x},0)/e.length}function di(d3){var e=d3.children;return e&&e.length?di(e[0]):d3}function cG(d3){var e=d3.children,gq;return e&&(gq=e.length)?cG(e[gq-1]):d3}fK.layout.tree=function(){var d3=fK.layout.hierarchy().sort(null).value(null),gr=cy,gq=[1,1];function e(gz,gx){var gt=d3.call(this,gz,gx),gB=gt[0];function gy(gJ,gF){var gH=gJ.children,gM=gJ._tree;if(gH&&(gI=gH.length)){var gI,gO=gH[0],gN,gL=gO,gG,gK=-1;while(++gK<gI){gG=gH[gK];gy(gG,gN);gL=gs(gG,gN,gL);gN=gG}cB(gJ);var gP=0.5*(gO._tree.prelim+gG._tree.prelim);if(gF){gM.prelim=gF._tree.prelim+gr(gJ,gF);gM.mod=gM.prelim-gP}else{gM.prelim=gP}}else{if(gF){gM.prelim=gF._tree.prelim+gr(gJ,gF)}}}function gA(gI,gF){gI.x=gI._tree.prelim+gF;var gH=gI.children;if(gH&&(gJ=gH.length)){var gG=-1,gJ;gF+=gI._tree.mod;while(++gG<gJ){gA(gH[gG],gF)}}}function gs(gJ,gF,gM){if(gF){var gI=gJ,gH=gJ,gL=gF,gK=gJ.parent.children[0],gO=gI._tree.mod,gN=gH._tree.mod,gQ=gL._tree.mod,gP=gK._tree.mod,gG;while(gL=ai(gL),gI=ge(gI),gL&&gI){gK=ge(gK);gH=ai(gH);gH._tree.ancestor=gJ;gG=gL._tree.prelim+gQ-gI._tree.prelim-gO+gr(gL,gI);if(gG>0){gh(eE(gL,gJ,gM),gJ,gG);gO+=gG;gN+=gG}gQ+=gL._tree.mod;gO+=gI._tree.mod;gP+=gK._tree.mod;gN+=gH._tree.mod}if(gL&&!ai(gH)){gH._tree.thread=gL;gH._tree.mod+=gQ-gN}if(gI&&!ge(gK)){gK._tree.thread=gI;gK._tree.mod+=gO-gP;gM=gJ}}return gM}fX(gB,function(gG,gF){gG._tree={ancestor:gG,prelim:0,mod:0,change:0,shift:0,number:gF?gF._tree.number+1:0}});gy(gB);gA(gB,-gB._tree.prelim);var gw=cX(gB,a8),gE=cX(gB,cg),gD=cX(gB,A),gv=gw.x-gr(gw,gE)/2,gu=gE.x+gr(gE,gw)/2,gC=gD.depth||1;fX(gB,function(gF){gF.x=(gF.x-gv)/(gu-gv)*gq[0];gF.y=gF.depth/gC*gq[1];delete gF._tree});return gt}e.separation=function(gs){if(!arguments.length){return gr}gr=gs;return e};e.size=function(gs){if(!arguments.length){return gq}gq=gs;return e};return e3(e,d3)};function cy(d3,e){return d3.parent==e.parent?1:2}function ge(d3){var e=d3.children;return e&&e.length?e[0]:d3._tree.thread}function ai(d3){var e=d3.children,gq;return e&&(gq=e.length)?e[gq-1]:d3._tree.thread}function cX(gq,gr){var d3=gq.children;if(d3&&(gs=d3.length)){var gt,gs,e=-1;while(++e<gs){if(gr(gt=cX(d3[e],gr),gq)>0){gq=gt}}}return gq}function cg(d3,e){return d3.x-e.x}function a8(d3,e){return e.x-d3.x}function A(d3,e){return d3.depth-e.depth}function fX(d3,gq){function e(gv,gu){var gt=gv.children;if(gt&&(gw=gt.length)){var gx,gs=null,gr=-1,gw;while(++gr<gw){gx=gt[gr];e(gx,gs);gs=gx}}gq(gv,gu)}e(d3,null)}function cB(gr){var e=0,gt=0,gq=gr.children,d3=gq.length,gs;while(--d3>=0){gs=gq[d3]._tree;gs.prelim+=e;gs.mod+=e;e+=gs.shift+(gt+=gs.change)}}function gh(d3,gq,e){d3=d3._tree;gq=gq._tree;var gr=e/(gq.number-d3.number);d3.change+=gr;gq.change-=gr;gq.shift+=e;gq.prelim+=e;gq.mod+=e}function eE(e,gq,d3){return e._tree.ancestor.parent==gq.parent?e._tree.ancestor:d3}fK.layout.treemap=function(){var gw=fK.layout.hierarchy(),gA=Math.round,gC=[1,1],gx=null,e=dR,gy=false,gu,gt="squarify",gv=0.5*(1+Math.sqrt(5));function d3(gF,gD){var gE=-1,gI=gF.length,gH,gG;while(++gE<gI){gG=(gH=gF[gE]).value*(gD<0?0:gD);gH.area=isNaN(gG)||gG<=0?0:gG}}function gr(gH){var gE=gH.children;if(gE&&gE.length){var gK=e(gH),gM=[],gJ=gE.slice(),gD,gI=Infinity,gG,gL=gt==="slice"?gK.dx:gt==="dice"?gK.dy:gt==="slice-dice"?gH.depth&1?gK.dy:gK.dx:Math.min(gK.dx,gK.dy),gF;d3(gJ,gK.dx*gK.dy/gH.value);gM.area=0;while((gF=gJ.length)>0){gM.push(gD=gJ[gF-1]);gM.area+=gD.area;if(gt!=="squarify"||(gG=gq(gM,gL))<=gI){gJ.pop();gI=gG}else{gM.area-=gM.pop().area;gs(gM,gL,gK,false);gL=Math.min(gK.dx,gK.dy);gM.length=gM.area=0;gI=Infinity}}if(gM.length){gs(gM,gL,gK,true);gM.length=gM.area=0}gE.forEach(gr)}}function gB(gG){var gD=gG.children;if(gD&&gD.length){var gF=e(gG),gE=gD.slice(),gI,gH=[];d3(gE,gF.dx*gF.dy/gG.value);gH.area=0;while(gI=gE.pop()){gH.push(gI);gH.area+=gI.area;if(gI.z!=null){gs(gH,gI.z?gF.dx:gF.dy,gF,!gE.length);gH.length=gH.area=0}}gD.forEach(gB)}}function gq(gI,gE){var gG=gI.area,gH,gK=0,gD=Infinity,gF=-1,gJ=gI.length;while(++gF<gJ){if(!(gH=gI[gF].area)){continue}if(gH<gD){gD=gH}if(gH>gK){gK=gH}}gG*=gG;gE*=gE;return gG?Math.max(gE*gK*gv/gG,gG/(gE*gD*gv)):Infinity}function gs(gM,gL,gH,gK){var gF=-1,gE=gM.length,gI=gH.x,gG=gH.y,gJ=gL?gA(gM.area/gL):0,gD;if(gL==gH.dx){if(gK||gJ>gH.dy){gJ=gH.dy}while(++gF<gE){gD=gM[gF];gD.x=gI;gD.y=gG;gD.dy=gJ;gI+=gD.dx=Math.min(gH.x+gH.dx-gI,gJ?gA(gD.area/gJ):0)}gD.z=true;gD.dx+=gH.x+gH.dx-gI;gH.y+=gJ;gH.dy-=gJ}else{if(gK||gJ>gH.dx){gJ=gH.dx}while(++gF<gE){gD=gM[gF];gD.x=gI;gD.y=gG;gD.dx=gJ;gG+=gD.dy=Math.min(gH.y+gH.dy-gG,gJ?gA(gD.area/gJ):0)}gD.z=false;gD.dy+=gH.y+gH.dy-gG;gH.x+=gJ;gH.dx-=gJ}}function gz(gF){var gE=gu||gw(gF),gD=gE[0];gD.x=0;gD.y=0;gD.dx=gC[0];gD.dy=gC[1];if(gu){gw.revalue(gD)}d3([gD],gD.dx*gD.dy/gD.value);(gu?gB:gr)(gD);if(gy){gu=gE}return gE}gz.size=function(gD){if(!arguments.length){return gC}gC=gD;return gz};gz.padding=function(gD){if(!arguments.length){return gx}function gG(gH){var gI=gD.call(gz,gH,gH.depth);return gI==null?dR(gH):aF(gH,typeof gI==="number"?[gI,gI,gI,gI]:gI)}function gF(gH){return aF(gH,gD)}var gE;e=(gx=gD)==null?dR:(gE=typeof gD)==="function"?gG:gE==="number"?(gD=[gD,gD,gD,gD],gF):gF;return gz};gz.round=function(gD){if(!arguments.length){return gA!=Number}gA=gD?Math.round:Number;return gz};gz.sticky=function(gD){if(!arguments.length){return gy}gy=gD;gu=null;return gz};gz.ratio=function(gD){if(!arguments.length){return gv}gv=gD;return gz};gz.mode=function(gD){if(!arguments.length){return gt}gt=gD+"";return gz};return e3(gz,gw)};function dR(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function aF(gr,gs){var e=gr.x+gs[3],gt=gr.y+gs[0],gq=gr.dx-gs[1]-gs[3],d3=gr.dy-gs[0]-gs[2];if(gq<0){e+=gq/2;gq=0}if(d3<0){gt+=d3/2;d3=0}return{x:e,y:gt,dx:gq,dy:d3}}function dm(gr,gv){var gt=new RegExp('["'+gr+"\n]"),gs=gr.charCodeAt(0);function gu(gw,gx){return fK.xhr(gw,gv,gx).response(gq)}function gq(gw){return gu.parse(gw.responseText)}gu.parse=function(gx){var gw;return gu.parseRows(gx,function(gy){if(gw){return gw(gy)}gw=new Function("d","return {"+gy.map(function(gz,gA){return JSON.stringify(gz)+": d["+gA+"]"}).join(",")+"}")})};gu.parseRows=function(gF,gA){var gx={},gz={},gH=[],gB=gF.length,gE=0,gw=0,gG,gC;function gy(){if(gE>=gB){return gz}if(gC){return gC=false,gx}var gJ=gE;if(gF.charCodeAt(gJ)===34){var gK=gJ;while(gK++<gB){if(gF.charCodeAt(gK)===34){if(gF.charCodeAt(gK+1)!==34){break}++gK}}gE=gK+2;var gL=gF.charCodeAt(gK+1);if(gL===13){gC=true;if(gF.charCodeAt(gK+2)===10){++gE}}else{if(gL===10){gC=true}}return gF.substring(gJ+1,gK).replace(/""/g,'"')}while(gE<gB){var gL=gF.charCodeAt(gE++),gI=1;if(gL===10){gC=true}else{if(gL===13){gC=true;if(gF.charCodeAt(gE)===10){++gE,++gI}}else{if(gL!==gs){continue}}}return gF.substring(gJ,gE-gI)}return gF.substring(gJ)}while((gG=gy())!==gz){var gD=[];while(gG!==gx&&gG!==gz){gD.push(gG);gG=gy()}if(gA&&!(gD=gA(gD,gw++))){continue}gH.push(gD)}return gH};gu.format=function(gw){return gw.map(d3).join("\n")};function d3(gw){return gw.map(e).join(gr)}function e(gw){return gt.test(gw)?'"'+gw.replace(/\"/g,'""')+'"':gw}return gu}fK.csv=dm(",","text/csv");fK.tsv=dm("\t","text/tab-separated-values");fK.geo={};fK.geo.stream=function(e,d3){if(w.hasOwnProperty(e.type)){w[e.type](e,d3)}else{aw(e,d3)}};function aw(d3,e){if(ds.hasOwnProperty(d3.type)){ds[d3.type](d3,e)}}var w={Feature:function(e,d3){aw(e.geometry,d3)},FeatureCollection:function(e,gr){var gq=e.features,d3=-1,gs=gq.length;while(++d3<gs){aw(gq[d3].geometry,gr)}}};var ds={Sphere:function(e,d3){d3.sphere()},Point:function(e,d3){var gq=e.coordinates;d3.point(gq[0],gq[1])},MultiPoint:function(e,gq){var gr=e.coordinates,d3=-1,gt=gr.length,gs;while(++d3<gt){gs=gr[d3],gq.point(gs[0],gs[1])}},LineString:function(e,d3){bE(e.coordinates,d3,0)},MultiLineString:function(e,gq){var gr=e.coordinates,d3=-1,gs=gr.length;while(++d3<gs){bE(gr[d3],gq,0)}},Polygon:function(e,d3){fD(e.coordinates,d3)},MultiPolygon:function(e,gq){var gr=e.coordinates,d3=-1,gs=gr.length;while(++d3<gs){fD(gr[d3],gq)}},GeometryCollection:function(e,gr){var gq=e.geometries,d3=-1,gs=gq.length;while(++d3<gs){aw(gq[d3],gr)}}};function bE(gr,gq,e){var d3=-1,gt=gr.length-e,gs;gq.lineStart();while(++d3<gt){gs=gr[d3],gq.point(gs[0],gs[1])}gq.lineEnd()}function fD(gq,d3){var e=-1,gr=gq.length;d3.polygonStart();while(++e<gr){bE(gq[e],d3,1)}d3.polygonEnd()}function gn(e){return[Math.atan2(e[1],e[0]),Math.asin(Math.max(-1,Math.min(1,e[2])))]}function du(d3,e){return Math.abs(d3[0]-e[0])<eY&&Math.abs(d3[1]-e[1])<eY}function ac(e){var gq=e[0],d3=e[1],gr=Math.cos(d3);return[gr*Math.cos(gq),gr*Math.sin(gq),Math.sin(d3)]}function ag(d3,e){return d3[0]*e[0]+d3[1]*e[1]+d3[2]*e[2]}function cd(d3,e){return[d3[1]*e[2]-d3[2]*e[1],d3[2]*e[0]-d3[0]*e[2],d3[0]*e[1]-d3[1]*e[0]]}function bS(d3,e){d3[0]+=e[0];d3[1]+=e[1];d3[2]+=e[2]}function eP(e,d3){return[e[0]*d3,e[1]*d3,e[2]*d3]}function d6(d3){var e=Math.sqrt(d3[0]*d3[0]+d3[1]*d3[1]+d3[2]*d3[2]);d3[0]/=e;d3[1]/=e;d3[2]/=e}function ev(gr){var gq=0.5,gs=16;function d3(gF){var gB,gu,gD,gv,gE,gy;var gt={point:gC,lineStart:gz,lineEnd:gx,polygonStart:function(){gF.polygonStart();gt.lineStart=gA},polygonEnd:function(){gF.polygonEnd();gt.lineStart=gz}};function gC(gG,gH){gG=gr(gG,gH);gF.point(gG[0],gG[1])}function gz(){gu=NaN;gt.point=gw;gF.lineStart()}function gw(gH,gG){var gJ=ac([gH,gG]),gI=gr(gH,gG);e(gu,gD,gB,gv,gE,gy,gu=gI[0],gD=gI[1],gB=gH,gv=gJ[0],gE=gJ[1],gy=gJ[2],gs,gF);gF.point(gu,gD)}function gx(){gt.point=gC;gF.lineEnd()}function gA(){var gI,gH,gM,gK,gG,gL,gJ;gz();gt.point=function(gO,gN){gw(gI=gO,gH=gN),gM=gu,gK=gD,gG=gv,gL=gE,gJ=gy;gt.point=gw};gt.lineEnd=function(){e(gu,gD,gB,gv,gE,gy,gM,gK,gI,gG,gL,gJ,gs,gF);gt.lineEnd=gx;gx()}}return gt}function e(gO,gz,gv,gV,gC,gK,gN,gy,gu,gT,gB,gI,gS,gA){var gG=gN-gO,gF=gy-gz,gU=gG*gG+gF*gF;if(gU>4*gq&&gS--){var gR=gV+gT,gQ=gC+gB,gP=gK+gI,gJ=Math.sqrt(gR*gR+gQ*gQ+gP*gP),gM=Math.asin(gP/=gJ),gt=Math.abs(Math.abs(gP)-1)<eY?(gv+gu)/2:Math.atan2(gQ,gR),gH=gr(gt,gM),gL=gH[0],gx=gH[1],gw=gL-gO,gE=gx-gz,gD=gF*gw-gG*gE;if(gD*gD/gU>gq||Math.abs((gG*gw+gF*gE)/gU-0.5)>0.3){e(gO,gz,gv,gV,gC,gK,gL,gx,gt,gR/=gJ,gQ/=gJ,gP,gS,gA);gA.point(gL,gx);e(gL,gx,gt,gR,gQ,gP,gN,gy,gu,gT,gB,gI,gS,gA)}}}d3.precision=function(gt){if(!arguments.length){return Math.sqrt(gq)}gs=(gq=gt*gt)>0&&16;return d3};return d3}fK.geo.albersUsa=function(){var d3=fK.geo.albers();var gt=fK.geo.albers().rotate([160,0]).center([0,60]).parallels([55,65]);var gs=fK.geo.albers().rotate([160,0]).center([0,20]).parallels([8,18]);var gr=fK.geo.albers().rotate([60,0]).center([0,10]).parallels([8,18]);function gq(gu){return e(gu)(gu)}function e(gu){var gw=gu[0],gv=gu[1];return gv>50?gt:gw<-140?gs:gv<21?gr:d3}gq.scale=function(gu){if(!arguments.length){return d3.scale()}d3.scale(gu);gt.scale(gu*0.6);gs.scale(gu);gr.scale(gu*1.5);return gq.translate(d3.translate())};gq.translate=function(gv){if(!arguments.length){return d3.translate()}var gu=d3.scale(),gx=gv[0],gw=gv[1];d3.translate(gv);gt.translate([gx-0.4*gu,gw+0.17*gu]);gs.translate([gx-0.19*gu,gw+0.2*gu]);gr.translate([gx+0.58*gu,gw+0.43*gu]);return gq};return gq.scale(d3.scale())};function cE(gq,d3){var gs=Math.sin(gq),gu=(gs+Math.sin(d3))/2,gt=1+gs*(2*gu-gs),gr=Math.sqrt(gt)/gu;function e(gw,gv){var gx=Math.sqrt(gt-2*gu*Math.sin(gv))/gu;return[gx*Math.sin(gw*=gu),gr-gx*Math.cos(gw)]}e.invert=function(gv,gx){var gw=gr-gx;return[Math.atan2(gv,gw)/gu,Math.asin((gt-(gv*gv+gw*gw)*gu*gu)/(2*gu))]};return e}(fK.geo.albers=function(){var gq=29.5*D,d3=45.5*D,e=d2(cE),gr=e(gq,d3);gr.parallels=function(gs){if(!arguments.length){return[gq*fW,d3*fW]}return e(gq=gs[0]*D,d3=gs[1]*D)};return gr.rotate([98,0]).center([0,38]).scale(1000)}).raw=cE;var aZ=de(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(fK.geo.azimuthalEqualArea=function(){return ek(aZ)}).raw=aZ;var a9=de(function(e){var d3=Math.acos(e);return d3&&d3/Math.sin(d3)},eX);(fK.geo.azimuthalEquidistant=function(){return ek(a9)}).raw=a9;fK.geo.bounds=cq(eX);function cq(gt){var gq,gu,d3,gs;var gr={point:e,lineStart:am,lineEnd:am,polygonStart:function(){gr.lineEnd=gv},polygonEnd:function(){gr.point=e}};function e(gw,gx){if(gw<gq){gq=gw}if(gw>d3){d3=gw}if(gx<gu){gu=gx}if(gx>gs){gs=gx}}function gv(){gr.point=gr.lineEnd=am}return function(gw){gs=d3=-(gq=gu=Infinity);fK.geo.stream(gw,gt(gr));return[[gq,gu],[d3,gs]]}}fK.geo.centroid=function(d3){cJ=dZ=dX=dW=dV=0;fK.geo.stream(d3,eS);var e;if(dZ&&Math.abs(e=Math.sqrt(dX*dX+dW*dW+dV*dV))>eY){return[Math.atan2(dW,dX)*fW,Math.asin(Math.max(-1,Math.min(1,dV/e)))*fW]}};var cJ,dZ,dX,dW,dV;var eS={sphere:function(){if(cJ<2){cJ=2;dZ=dX=dW=dV=0}},point:bt,lineStart:d5,lineEnd:ak,polygonStart:function(){if(cJ<2){cJ=2;dZ=dX=dW=dV=0}eS.lineStart=aX},polygonEnd:function(){eS.lineStart=d5}};function bt(d3,e){if(cJ){return}++dZ;d3*=D;var gq=Math.cos(e*=D);dX+=(gq*Math.cos(d3)-dX)/dZ;dW+=(gq*Math.sin(d3)-dW)/dZ;dV+=(Math.sin(e)-dV)/dZ}function aX(){var d3,e;cJ=1;d5();cJ=2;var gq=eS.point;eS.point=function(gs,gr){gq(d3=gs,e=gr)};eS.lineEnd=function(){eS.point(d3,e);ak();eS.lineEnd=ak}}function d5(){var e,d3,gr;if(cJ>1){return}if(cJ<1){cJ=1;dZ=dX=dW=dV=0}eS.point=function(gt,gs){gt*=D;var gu=Math.cos(gs*=D);e=gu*Math.cos(gt);d3=gu*Math.sin(gt);gr=Math.sin(gs);eS.point=gq};function gq(gv,gu){gv*=D;var gw=Math.cos(gu*=D),gs=gw*Math.cos(gv),gy=gw*Math.sin(gv),gx=Math.sin(gu),gt=Math.atan2(Math.sqrt((gt=d3*gx-gr*gy)*gt+(gt=gr*gs-e*gx)*gt+(gt=e*gy-d3*gs)*gt),e*gs+d3*gy+gr*gx);dZ+=gt;dX+=gt*(e+(e=gs));dW+=gt*(d3+(d3=gy));dV+=gt*(gr+(gr=gx))}}function ak(){eS.point=bt}fK.geo.circle=function(){var d3=[0,0],gs,e=6,gq;function gr(){var gt=typeof d3==="function"?d3.apply(this,arguments):d3,gv=cI(-gt[0]*D,-gt[1]*D,0).invert,gu=[];gq(null,null,1,{point:function(gw,gx){gu.push(gw=gv(gw,gx));gw[0]*=fW,gw[1]*=fW}});return{type:"Polygon",coordinates:[gu]}}gr.origin=function(gt){if(!arguments.length){return d3}d3=gt;return gr};gr.angle=function(gt){if(!arguments.length){return gs}gq=bo((gs=+gt)*D,e*D);return gr};gr.precision=function(gt){if(!arguments.length){return e}gq=bo(gs*D,(e=+gt)*D);return gr};return gr.angle(90)};function bo(gr,e){var gq=Math.cos(gr),d3=Math.sin(gr);return function(gy,gx,gw,gv){if(gy!=null){gy=gb(gq,gy);gx=gb(gq,gx);if(gw>0?gy<gx:gy>gx){gy+=gw*2*eN}}else{gy=gr+gw*2*eN;gx=gr}var gs;for(var gu=gw*e,gt=gy;gw>0?gt>gx:gt<gx;gt-=gu){gv.point((gs=gn([gq,-d3*Math.cos(gt),-d3*Math.sin(gt)]))[0],gs[1])}}}function gb(gq,e){var d3=ac(e);d3[0]-=gq;d6(d3);var gr=Math.acos(Math.max(-1,Math.min(1,-d3[1])));return((-d3[2]<0?-gr:gr)+2*Math.PI-eY)%(2*Math.PI)}function c6(e,gq,d3){return function(gt){var gH=gq(gt);var gv={point:gE,lineStart:gB,lineEnd:gy,polygonStart:function(){gv.point=gD;gv.lineStart=gC;gv.lineEnd=gG;gF=false;gr=gu=0;gA=[];gt.polygonStart()},polygonEnd:function(){gv.point=gE;gv.lineStart=gB;gv.lineEnd=gy;gA=fK.merge(gA);if(gA.length){bI(gA,d3,gt)}else{if(gu<-eY||gF&&gr<-eY){gt.lineStart();d3(null,null,1,gt);gt.lineEnd()}}gt.polygonEnd();gA=null},sphere:function(){gt.polygonStart();gt.lineStart();d3(null,null,1,gt);gt.lineEnd();gt.polygonEnd()}};function gE(gJ,gI){if(e(gJ,gI)){gt.point(gJ,gI)}}function gz(gJ,gI){gH.point(gJ,gI)}function gB(){gv.point=gz;gH.lineStart()}function gy(){gv.point=gE;gH.lineEnd()}var gA,gu,gr,gF;var gx=J(),gs=gq(gx),gw;function gD(gJ,gI){gs.point(gJ,gI);gw.push([gJ,gI])}function gC(){gs.lineStart();gw=[]}function gG(){gD(gw[0][0],gw[0][1]);gs.lineEnd();var gK=gs.clean(),gM=gx.buffer(),gL,gN=gM.length;if(!gN){gF=true;gr+=dM(gw,-1);gw=null;return}gw=null;if(gK&1){gL=gM[0];gu+=dM(gL,1);var gN=gL.length-1,gJ=-1,gI;gt.lineStart();while(++gJ<gN){gt.point((gI=gL[gJ])[0],gI[1])}gt.lineEnd();return}if(gN>1&&gK&2){gM.push(gM.pop().concat(gM.shift()))}gA.push(gM.filter(dr))}return gv}}function bI(gs,gu,d3){var gv=[],gq=[];gs.forEach(function(gB){if((gE=gB.length)<=1){return}var gE,gD=gB[0],gC=gB[gE-1];if(du(gD,gC)){d3.lineStart();for(var gA=0;gA<gE;++gA){d3.point((gD=gB[gA])[0],gD[1])}d3.lineEnd();return}var gz={point:gD,points:gB,other:null,visited:false,entry:true,subject:true},gy={point:gD,points:[gD],other:gz,visited:false,entry:false,subject:false};gz.other=gy;gv.push(gz);gq.push(gy);gz={point:gC,points:[gC],other:null,visited:false,entry:false,subject:true};gy={point:gC,points:[gC],other:gz,visited:false,entry:true,subject:false};gz.other=gy;gv.push(gz);gq.push(gy)});gq.sort(cR);cn(gv);cn(gq);if(!gv.length){return}var e=gv[0],gt,gx,gw;while(1){gt=e;while(gt.visited){if((gt=gt.next)===e){return}}gx=gt.points;d3.lineStart();do{gt.visited=gt.other.visited=true;if(gt.entry){if(gt.subject){for(var gr=0;gr<gx.length;gr++){d3.point((gw=gx[gr])[0],gw[1])}}else{gu(gt.point,gt.next.point,1,d3)}gt=gt.next}else{if(gt.subject){gx=gt.prev.points;for(var gr=gx.length;--gr>=0;){d3.point((gw=gx[gr])[0],gw[1])}}else{gu(gt.point,gt.prev.point,-1,d3)}gt=gt.prev}gt=gt.other;gx=gt.points}while(!gt.visited);d3.lineEnd()}}function cn(gs){if(!(gr=gs.length)){return}var gr,gq=0,d3=gs[0],e;while(++gq<gr){d3.next=e=gs[gq];e.prev=d3;d3=e}d3.next=e=gs[0];e.prev=d3}function cR(d3,e){return((d3=d3.point)[0]<0?d3[1]-eN/2-eY:eN/2-d3[1])-((e=e.point)[0]<0?e[1]-eN/2-eY:eN/2-e[1])}function dr(e){return e.length>1}function J(){var d3=[],e;return{lineStart:function(){d3.push(e=[])},point:function(gr,gq){e.push([gr,gq])},lineEnd:am,buffer:function(){var gq=d3;d3=[];e=null;return gq}}}function dM(gu,gA){if(!(gs=gu.length)){return 0}var gs,gv=0,gq=0,d3=gu[0],gw=d3[0],gB=d3[1],gt=Math.cos(gB),gr=Math.atan2(gA*Math.sin(gw)*gt,Math.sin(gB)),gz=1-gA*Math.cos(gw)*gt,e=gr,gy,gx;while(++gv<gs){d3=gu[gv];gt=Math.cos(gB=d3[1]);gy=Math.atan2(gA*Math.sin(gw=d3[0])*gt,Math.sin(gB));gx=1-gA*Math.cos(gw)*gt;if(Math.abs(gz-2)<eY&&Math.abs(gx-2)<eY){continue}if(Math.abs(gx)<eY||Math.abs(gz)<eY){}else{if(Math.abs(Math.abs(gy-gr)-eN)<eY){if(gx+gz>2){gq+=4*(gy-gr)}}else{if(Math.abs(gz-2)<eY){gq+=4*(gy-e)}else{gq+=((3*eN+gy-gr)%(2*eN)-eN)*(gz+gx)}}}e=gr,gr=gy,gz=gx}return gq}var j=c6(W,dk,co);function dk(gs){var d3=NaN,e=NaN,gr=NaN,gq;return{lineStart:function(){gs.lineStart();gq=1},point:function(gu,gt){var gw=gu>0?eN:-eN,gv=Math.abs(gu-d3);if(Math.abs(gv-eN)<eY){gs.point(d3,e=(e+gt)/2>0?eN/2:-eN/2);gs.point(gr,e);gs.lineEnd();gs.lineStart();gs.point(gw,e);gs.point(gu,e);gq=0}else{if(gr!==gw&&gv>=eN){if(Math.abs(d3-gr)<eY){d3-=gr*eY}if(Math.abs(gu-gw)<eY){gu-=gw*eY}e=s(d3,e,gu,gt);gs.point(gr,e);gs.lineEnd();gs.lineStart();gs.point(gw,e);gq=0}}gs.point(d3=gu,e=gt);gr=gw},lineEnd:function(){gs.lineEnd();d3=e=NaN},clean:function(){return 2-gq}}}function s(gt,gs,gr,gq){var d3,e,gu=Math.sin(gt-gr);return Math.abs(gu)>eY?Math.atan((Math.sin(gs)*(e=Math.cos(gq))*Math.sin(gr)-Math.sin(gq)*(d3=Math.cos(gs))*Math.sin(gt))/(d3*e*gu)):(gs+gq)/2}function co(gt,gs,gr,gq){var e;if(gt==null){e=gr*eN/2;gq.point(-eN,e);gq.point(0,e);gq.point(eN,e);gq.point(eN,0);gq.point(eN,-e);gq.point(0,-e);gq.point(-eN,-e);gq.point(-eN,0);gq.point(-eN,e)}else{if(Math.abs(gt[0]-gs[0])>eY){var d3=(gt[0]<gs[0]?1:-1)*eN;e=gr*d3/2;gq.point(-d3,e);gq.point(0,e);gq.point(d3,e)}else{gq.point(gs[0],gs[1])}}}function ar(gt){var gr=gt*D,gq=Math.cos(gr),d3=bo(gr,6*D);return c6(gs,gu,d3);function gs(gw,gv){return Math.cos(gw)*Math.cos(gv)>gq}function gu(gz){var gy,gv,gx,gw;return{lineStart:function(){gx=gv=false;gw=1},point:function(gB,gA){var gE=[gB,gA],gD,gC=gs(gB,gA);if(!gy&&(gx=gv=gC)){gz.lineStart()}if(gC!==gv){gD=e(gy,gE);if(du(gy,gD)||du(gE,gD)){gE[0]+=eY;gE[1]+=eY;gC=gs(gE[0],gE[1])}}if(gC!==gv){gw=0;if(gv=gC){gz.lineStart();gD=e(gE,gy);gz.point(gD[0],gD[1])}else{gD=e(gy,gE);gz.point(gD[0],gD[1]);gz.lineEnd()}gy=gD}if(gC&&(!gy||!du(gy,gE))){gz.point(gE[0],gE[1])}gy=gE},lineEnd:function(){if(gv){gz.lineEnd()}gy=null},clean:function(){return gw|(gx&&gv)<<1}}}function e(gM,gL){var gw=ac(gM,0),gv=ac(gL,0);var gz=[1,0,0],gy=cd(gw,gv),gA=ag(gy,gy),gK=gy[0],gG=gA-gK*gK;if(!gG){return gM}var gJ=gq*gA/gG,gI=-gq*gK/gG,gN=cd(gz,gy),gH=eP(gz,gJ),gF=eP(gy,gI);bS(gH,gF);var gC=gN,gB=ag(gH,gC),gx=ag(gC,gC),gD=Math.sqrt(gB*gB-gx*(ag(gH,gH)-1)),gE=eP(gC,(-gB-gD)/gx);bS(gE,gH);return gn(gE)}}function dP(d3,e){function gq(gr,gs){return gr=d3(gr,gs),e(gr[0],gr[1])}if(d3.invert&&e.invert){gq.invert=function(gr,gs){return gr=e.invert(gr,gs),gr&&d3.invert(gr[0],gr[1])}}return gq}function a3(d3,e){return[d3,e]}(fK.geo.equirectangular=function(){return ek(a3).scale(250/eN)}).raw=a3.invert=a3;var dl=de(function(e){return 1/e},Math.atan);(fK.geo.gnomonic=function(){return ek(dl)}).raw=dl;fK.geo.graticule=function(){var e,d3,gs,gv,gy=22.5,gw=gy,gt,gr,gq=2.5;function gu(){return{type:"MultiLineString",coordinates:gx()}}function gx(){return fK.range(Math.ceil(d3/gy)*gy,e,gy).map(gt).concat(fK.range(Math.ceil(gv/gw)*gw,gs,gw).map(gr))}gu.lines=function(){return gx().map(function(gz){return{type:"LineString",coordinates:gz}})};gu.outline=function(){return{type:"Polygon",coordinates:[gt(d3).concat(gr(gs).slice(1),gt(e).reverse().slice(1),gr(gv).reverse().slice(1))]}};gu.extent=function(gz){if(!arguments.length){return[[d3,gv],[e,gs]]}d3=+gz[0][0],e=+gz[1][0];gv=+gz[0][1],gs=+gz[1][1];if(d3>e){gz=d3,d3=e,e=gz}if(gv>gs){gz=gv,gv=gs,gs=gz}return gu.precision(gq)};gu.step=function(gz){if(!arguments.length){return[gy,gw]}gy=+gz[0],gw=+gz[1];return gu};gu.precision=function(gz){if(!arguments.length){return gq}gq=+gz;gt=aq(gv,gs,gq);gr=ao(d3,e,gq);return gu};return gu.extent([[-180+eY,-90+eY],[180-eY,90-eY]])};function aq(gq,d3,e){var gr=fK.range(gq,d3-eY,e).concat(d3);return function(gs){return gr.map(function(gt){return[gs,gt]})}}function ao(gr,gq,d3){var e=fK.range(gr,gq-eY,d3).concat(gq);return function(gs){return e.map(function(gt){return[gt,gs]})}}function aC(e){return(e=Math.sin(e/2))*e}fK.geo.interpolate=function(e,d3){return f(e[0]*D,e[1]*D,d3[0]*D,d3[1]*D)};function f(gr,gC,gq,gA){var gu=Math.cos(gC),gB=Math.sin(gC),gs=Math.cos(gA),gz=Math.sin(gA),gw=gu*Math.cos(gr),d3=gu*Math.sin(gr),gv=gs*Math.cos(gq),e=gs*Math.sin(gq),gy=2*Math.asin(Math.sqrt(aC(gA-gC)+gu*gs*aC(gq-gr))),gt=1/Math.sin(gy);var gx=gy?function(gF){var gI=Math.sin(gF*=gy)*gt,gE=Math.sin(gy-gF)*gt,gD=gE*gw+gI*gv,gH=gE*d3+gI*e,gG=gE*gB+gI*gz;return[Math.atan2(gH,gD)*fW,Math.atan2(gG,Math.sqrt(gD*gD+gH*gH))*fW]}:function(){return[gr*fW,gC*fW]};gx.distance=gy;return gx}fK.geo.greatArc=function(){var gs=f0,gq,gt=f9,gu,d3=6*D,gr;function e(){var gA=gq||gs.apply(this,arguments),gz=gu||gt.apply(this,arguments),gw=gr||fK.geo.interpolate(gA,gz),gv=0,gx=d3/gw.distance,gy=[gA];while((gv+=gx)<1){gy.push(gw(gv))}gy.push(gz);return{type:"LineString",coordinates:gy}}e.distance=function(){return(gr||fK.geo.interpolate(gq||gs.apply(this,arguments),gu||gt.apply(this,arguments))).distance};e.source=function(gv){if(!arguments.length){return gs}gs=gv,gq=typeof gv==="function"?null:gv;gr=gq&&gu?fK.geo.interpolate(gq,gu):null;return e};e.target=function(gv){if(!arguments.length){return gt}gt=gv,gu=typeof gv==="function"?null:gv;gr=gq&&gu?fK.geo.interpolate(gq,gu):null;return e};e.precision=function(gv){if(!arguments.length){return d3/D}d3=gv*D;return e};return e};function ay(d3,e){return[d3/(2*eN),Math.max(-0.5,Math.min(+0.5,Math.log(Math.tan(eN/4+e/2))/(2*eN)))]}ay.invert=function(e,d3){return[2*eN*e,2*Math.atan(Math.exp(2*eN*d3))-eN/2]};(fK.geo.mercator=function(){return ek(ay).scale(500)}).raw=ay;var eD=de(function(){return 1},Math.asin);(fK.geo.orthographic=function(){return ek(eD)}).raw=eD;fK.geo.path=function(){var gs=4.5,d3,gq,gr,e;function gt(gu){if(gu){fK.geo.stream(gu,gr(e.pointRadius(typeof gs==="function"?+gs.apply(this,arguments):gs)))}return e.result()}gt.area=function(gu){eu=0;fK.geo.stream(gu,gr(cA));return eu};gt.centroid=function(gu){cJ=dX=dW=dV=0;fK.geo.stream(gu,gr(fv));return dV?[dX/dV,dW/dV]:undefined};gt.bounds=function(gu){return cq(gr)(gu)};gt.projection=function(gu){if(!arguments.length){return d3}gr=(d3=gu)?gu.stream||fE(gu):eX;return gt};gt.context=function(gu){if(!arguments.length){return gq}e=(gq=gu)==null?new bz():new bW(gu);return gt};gt.pointRadius=function(gu){if(!arguments.length){return gs}gs=typeof gu==="function"?gu:+gu;return gt};return gt.projection(fK.geo.albersUsa()).context(null)};function cc(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+ +2*e+"z"}function fE(d3){var e=ev(function(gr,gq){return d3([gr*fW,gq*fW])});return function(gq){gq=e(gq);return{point:function(gs,gr){gq.point(gs*D,gr*D)},sphere:function(){gq.sphere()},lineStart:function(){gq.lineStart()},lineEnd:function(){gq.lineEnd()},polygonStart:function(){gq.polygonStart()},polygonEnd:function(){gq.polygonEnd()}}}}function bz(){var gq=cc(4.5),d3=[];var gv={point:e,lineStart:function(){gv.point=gu},lineEnd:gt,polygonStart:function(){gv.lineEnd=gr},polygonEnd:function(){gv.lineEnd=gt;gv.point=e},pointRadius:function(gw){gq=cc(gw);return gv},result:function(){if(d3.length){var gw=d3.join("");d3=[];return gw}}};function e(gw,gx){d3.push("M",gw,",",gx,gq)}function gu(gw,gx){d3.push("M",gw,",",gx);gv.point=gs}function gs(gw,gx){d3.push("L",gw,",",gx)}function gt(){gv.point=e}function gr(){d3.push("Z")}return gv}function bW(d3){var gs=4.5;var gv={point:e,lineStart:function(){gv.point=gu},lineEnd:gt,polygonStart:function(){gv.lineEnd=gq},polygonEnd:function(){gv.lineEnd=gt;gv.point=e},pointRadius:function(gw){gs=gw;return gv},result:am};function e(gw,gx){d3.moveTo(gw,gx);d3.arc(gw,gx,gs,0,2*eN)}function gu(gw,gx){d3.moveTo(gw,gx);gv.point=gr}function gr(gw,gx){d3.lineTo(gw,gx)}function gt(){gv.point=e}function gq(){d3.closePath()}return gv}var eu,v,cA={point:am,lineStart:am,lineEnd:am,polygonStart:function(){v=0;cA.lineStart=b1},polygonEnd:function(){cA.lineStart=cA.lineEnd=cA.point=am;eu+=Math.abs(v/2)}};function b1(){var gr,e,d3,gq;cA.point=function(gt,gu){cA.point=gs;gr=d3=gt,e=gq=gu};function gs(gt,gu){v+=gq*gt-d3*gu;d3=gt,gq=gu}cA.lineEnd=function(){gs(gr,e)}}var fv={point:b5,lineStart:ey,lineEnd:b4,polygonStart:function(){fv.lineStart=bm},polygonEnd:function(){fv.point=b5;fv.lineStart=ey;fv.lineEnd=b4}};function b5(e,d3){if(cJ){return}dX+=e;dW+=d3;++dV}function ey(){var e,d3;if(cJ!==1){if(cJ<1){cJ=1;dX=dW=dV=0}else{return}}fv.point=function(gr,gs){fv.point=gq;e=gr,d3=gs};function gq(gr,gv){var gt=gr-e,gs=gv-d3,gu=Math.sqrt(gt*gt+gs*gs);dX+=gu*(e+gr)/2;dW+=gu*(d3+gv)/2;dV+=gu;e=gr,d3=gv}}function b4(){fv.point=b5}function bm(){var gr,e,d3,gq;if(cJ<2){cJ=2;dX=dW=dV=0}fv.point=function(gt,gu){fv.point=gs;gr=d3=gt,e=gq=gu};function gs(gt,gv){var gu=gq*gt-d3*gv;dX+=gu*(d3+gt);dW+=gu*(gq+gv);dV+=gu*3;d3=gt,gq=gv}fv.lineEnd=function(){gs(gr,e)}}fK.geo.area=function(e){aJ=0;fK.geo.stream(e,fI);return aJ};var aJ,f3,f2;var fI={sphere:function(){aJ+=4*eN},point:am,lineStart:am,lineEnd:am,polygonStart:function(){f3=1,f2=0;fI.lineStart=bq},polygonEnd:function(){var e=2*Math.atan2(f2,f3);aJ+=e<0?4*eN+e:e;fI.lineStart=fI.lineEnd=fI.point=am}};function bq(){var d3,e,gr,gq,gs;fI.point=function(gv,gu){fI.point=gt;gr=(d3=gv)*D,gq=Math.cos(gu=(e=gu)*D/2+eN/4),gs=Math.sin(gu)};function gt(gx,gD){gx*=D;gD=gD*D/2+eN/4;var gz=gx-gr,gv=Math.cos(gD),gy=Math.sin(gD),gw=gs*gy,gu=f3,gB=f2,gC=gq*gv+gw*Math.cos(gz),gA=gw*Math.sin(gz);f3=gu*gC-gB*gA;f2=gB*gC+gu*gA;gr=gx,gq=gv,gs=gy}fI.lineEnd=function(){gt(d3,e)}}fK.geo.projection=ek;fK.geo.projectionMutator=d2;function ek(e){return d2(function(){return e})()}function d2(gz){var gq,gE,gt,gB=ev(function(gI,gJ){gI=gq(gI,gJ);return[gI[0]*gD+gs,d3-gI[1]*gD]}),gD=150,gx=480,gv=250,gC=0,gw=0,gu=0,gr=0,gA=0,gs,d3,gF=j,e=null;function gH(gI){gI=gt(gI[0]*D,gI[1]*D);return[gI[0]*gD+gs,d3-gI[1]*gD]}function gy(gI){gI=gt.invert((gI[0]-gs)/gD,(d3-gI[1])/gD);return gI&&[gI[0]*fW,gI[1]*fW]}gH.stream=function(gI){return P(gE,gF(gB(gI)))};gH.clipAngle=function(gI){if(!arguments.length){return e}gF=gI==null?(e=gI,j):ar(e=+gI);return gH};gH.scale=function(gI){if(!arguments.length){return gD}gD=+gI;return gG()};gH.translate=function(gI){if(!arguments.length){return[gx,gv]}gx=+gI[0];gv=+gI[1];return gG()};gH.center=function(gI){if(!arguments.length){return[gC*fW,gw*fW]}gC=gI[0]%360*D;gw=gI[1]%360*D;return gG()};gH.rotate=function(gI){if(!arguments.length){return[gu*fW,gr*fW,gA*fW]}gu=gI[0]%360*D;gr=gI[1]%360*D;gA=gI.length>2?gI[2]%360*D:0;return gG()};fK.rebind(gH,gB,"precision");function gG(){gt=dP(gE=cI(gu,gr,gA),gq);var gI=gq(gC,gw);gs=gx-gI[0]*gD;d3=gv+gI[1]*gD;return gH}return function(){gq=gz.apply(this,arguments);gH.invert=gq.invert&&gy;return gG()}}function P(e,d3){return{point:function(gq,gr){gr=e(gq*D,gr*D),gq=gr[0];d3.point(gq>eN?gq-2*eN:gq<-eN?gq+2*eN:gq,gr[1])},sphere:function(){d3.sphere()},lineStart:function(){d3.lineStart()},lineEnd:function(){d3.lineEnd()},polygonStart:function(){d3.polygonStart()},polygonEnd:function(){d3.polygonEnd()}}}function cI(gq,d3,e){return gq?d3||e?dP(dF(gq),bh(d3,e)):dF(gq):d3||e?bh(d3,e):a3}function fq(e){return function(gq,d3){return gq+=e,[gq>eN?gq-2*eN:gq<-eN?gq+2*eN:gq,d3]}}function dF(d3){var e=fq(d3);e.invert=fq(-d3);return e}function bh(gt,d3){var gs=Math.cos(gt),gu=Math.sin(gt),e=Math.cos(d3),gq=Math.sin(d3);function gr(gx,gw){var gz=Math.cos(gw),gv=Math.cos(gx)*gz,gB=Math.sin(gx)*gz,gA=Math.sin(gw),gy=gA*gs+gv*gu;return[Math.atan2(gB*e-gy*gq,gv*gs-gA*gu),Math.asin(Math.max(-1,Math.min(1,gy*e+gB*gq)))]}gr.invert=function(gx,gw){var gz=Math.cos(gw),gv=Math.cos(gx)*gz,gB=Math.sin(gx)*gz,gA=Math.sin(gw),gy=gA*e-gB*gq;return[Math.atan2(gB*e+gA*gq,gv*gs+gy*gu),Math.asin(Math.max(-1,Math.min(1,gy*gs-gv*gu)))]};return gr}var bv=de(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(fK.geo.stereographic=function(){return ek(bv)}).raw=bv;function de(gq,d3){function e(gs,gr){var gv=Math.cos(gs),gu=Math.cos(gr),gt=gq(gv*gu);return[gt*gu*Math.sin(gs),gt*Math.sin(gr)]}e.invert=function(gr,gw){var gu=Math.sqrt(gr*gr+gw*gw),gv=d3(gu),gs=Math.sin(gv),gt=Math.cos(gv);return[Math.atan2(gr*gs,gu*gt),Math.asin(gu&&gw*gs/gu)]};return e}fK.geom={};fK.geom.hull=function(gx){if(gx.length<3){return[]}var gw=gx.length,gs=gw-1,gD=[],gz=[],gu,gt,gv=0,gr,gB,d3,gy,gE,gC,gA,gq;for(gu=1;gu<gw;++gu){if(gx[gu][1]<gx[gv][1]){gv=gu}else{if(gx[gu][1]==gx[gv][1]){gv=gx[gu][0]<gx[gv][0]?gu:gv}}}for(gu=0;gu<gw;++gu){if(gu===gv){continue}gB=gx[gu][1]-gx[gv][1];gr=gx[gu][0]-gx[gv][0];gD.push({angle:Math.atan2(gB,gr),index:gu})}gD.sort(function(gG,gF){return gG.angle-gF.angle});gA=gD[0].angle;gC=gD[0].index;gE=0;for(gu=1;gu<gs;++gu){gt=gD[gu].index;if(gA==gD[gu].angle){gr=gx[gC][0]-gx[gv][0];gB=gx[gC][1]-gx[gv][1];d3=gx[gt][0]-gx[gv][0];gy=gx[gt][1]-gx[gv][1];if(gr*gr+gB*gB>=d3*d3+gy*gy){gD[gu].index=-1}else{gD[gE].index=-1;gA=gD[gu].angle;gE=gu;gC=gt}}else{gA=gD[gu].angle;gE=gu;gC=gt}}gz.push(gv);for(gu=0,gt=0;gu<2;++gt){if(gD[gt].index!==-1){gz.push(gD[gt].index);gu++}}gq=gz.length;for(;gt<gs;++gt){if(gD[gt].index===-1){continue}while(!cH(gz[gq-2],gz[gq-1],gD[gt].index,gx)){--gq}gz[gq++]=gD[gt].index}var e=[];for(gu=0;gu<gq;++gu){e.push(gx[gz[gu]])}return e};function cH(gr,gq,d3,gy){var gz,gx,gw,gv,gu,gt,gs;gz=gy[gr];gx=gz[0];gw=gz[1];gz=gy[gq];gv=gz[0];gu=gz[1];gz=gy[d3];gt=gz[0];gs=gz[1];return(gs-gw)*(gv-gx)-(gu-gw)*(gt-gx)>0}fK.geom.polygon=function(e){e.area=function(){var d3=0,gr=e.length,gq=e[gr-1][1]*e[0][0]-e[gr-1][0]*e[0][1];while(++d3<gr){gq+=e[d3-1][1]*e[d3][0]-e[d3-1][0]*e[d3][1]}return gq*0.5};e.centroid=function(gs){var gt=-1,gw=e.length,gq=0,gv=0,gr,d3=e[gw-1],gu;if(!arguments.length){gs=-1/(6*e.area())}while(++gt<gw){gr=d3;d3=e[gt];gu=gr[0]*d3[1]-d3[0]*gr[1];gq+=(gr[0]+d3[0])*gu;gv+=(gr[1]+d3[1])*gu}return[gq*gs,gv*gs]};e.clip=function(gv){var gx,gs=-1,d3=e.length,gr,gq,gy=e[d3-1],gw,gu,gt;while(++gs<d3){gx=gv.slice();gv.length=0;gw=e[gs];gu=gx[(gq=gx.length)-1];gr=-1;while(++gr<gq){gt=gx[gr];if(x(gt,gy,gw)){if(!x(gu,gy,gw)){gv.push(eU(gu,gt,gy,gw))}gv.push(gt)}else{if(x(gu,gy,gw)){gv.push(eU(gu,gt,gy,gw))}}gu=gt}gy=gw}return gv};return e};function x(gq,d3,e){return(e[0]-d3[0])*(gq[1]-d3[1])<(e[1]-d3[1])*(gq[0]-d3[0])}function eU(gu,gs,gy,gv){var gq=gu[0],e=gy[0],gr=gs[0]-gq,gz=gv[0]-e,gx=gu[1],gt=gy[1],gw=gs[1]-gx,gA=gv[1]-gt,d3=(gz*(gx-gt)-gA*(gq-e))/(gA*gr-gz*gw);return[gq+d3*gr,gx+d3*gw]}fK.geom.voronoi=function(d3){var e=d3.map(function(){return[]}),gq=1000000;fj(d3,function(gt){var gz,gy,gs,gr,gw,gu;if(gt.a===1&&gt.b>=0){gz=gt.ep.r;gy=gt.ep.l}else{gz=gt.ep.l;gy=gt.ep.r}if(gt.a===1){gw=gz?gz.y:-gq;gs=gt.c-gt.b*gw;gu=gy?gy.y:gq;gr=gt.c-gt.b*gu}else{gs=gz?gz.x:-gq;gw=gt.c-gt.a*gs;gr=gy?gy.x:gq;gu=gt.c-gt.a*gr}var gx=[gs,gw],gv=[gr,gu];e[gt.region.l.index].push(gx,gv);e[gt.region.r.index].push(gx,gv)});e=e.map(function(gu,gt){var gs=d3[gt][0],gw=d3[gt][1],gv=gu.map(function(gx){return Math.atan2(gx[0]-gs,gx[1]-gw)}),gr=fK.range(gu.length).sort(function(gy,gx){return gv[gy]-gv[gx]});return gr.filter(function(gy,gx){return !gx||gv[gy]-gv[gr[gx-1]]>eY}).map(function(gx){return gu[gx]})});e.forEach(function(gB,gv){var gu=gB.length;if(!gu){return gB.push([-gq,-gq],[-gq,gq],[gq,gq],[gq,-gq])}if(gu>2){return}var gG=d3[gv],gE=gB[0],gD=gB[1],gt=gG[0],gC=gG[1],gs=gE[0],gA=gE[1],gr=gD[0],gy=gD[1],gH=Math.abs(gr-gs),gF=gy-gA;if(Math.abs(gF)<eY){var gx=gC<gA?-gq:gq;gB.push([-gq,gx],[gq,gx])}else{if(gH<eY){var gz=gt<gs?-gq:gq;gB.push([gz,-gq],[gz,gq])}else{var gx=(gr-gs)*(gA-gC)<(gs-gt)*(gy-gA)?gq:-gq,gw=Math.abs(gF)-gH;if(Math.abs(gw)<eY){gB.push([gF<0?gx:-gx,gx])}else{if(gw>0){gx*=-1}gB.push([-gq,gx],[gq,gx])}}}});return e};var cu={l:"r",r:"l"};function fj(gt,gr){var gH={list:gt.map(function(e,gJ){return{index:gJ,x:e[0],y:e[1]}}).sort(function(gJ,e){return gJ.y<e.y?-1:gJ.y>e.y?1:gJ.x<e.x?-1:gJ.x>e.x?1:0}),bottomSite:null};var gq={list:[],leftEnd:null,rightEnd:null,init:function(){gq.leftEnd=gq.createHalfEdge(null,"l");gq.rightEnd=gq.createHalfEdge(null,"l");gq.leftEnd.r=gq.rightEnd;gq.rightEnd.l=gq.leftEnd;gq.list.unshift(gq.leftEnd,gq.rightEnd)},createHalfEdge:function(gJ,e){return{edge:gJ,side:e,vertex:null,l:null,r:null}},insert:function(gJ,e){e.l=gJ;e.r=gJ.r;gJ.r.l=e;gJ.r=e},leftBound:function(gJ){var e=gq.leftEnd;do{e=e.r}while(e!=gq.rightEnd&&gG.rightOf(e,gJ));e=e.l;return e},del:function(e){e.l.r=e.r;e.r.l=e.l;e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?gH.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?gH.bottomSite:e.edge.region[cu[e.side]]}};var gG={bisect:function(gM,gK){var gL={region:{l:gM,r:gK},ep:{l:null,r:null}};var gJ=gK.x-gM.x,e=gK.y-gM.y,gO=gJ>0?gJ:-gJ,gN=e>0?e:-e;gL.c=gM.x*gJ+gM.y*e+(gJ*gJ+e*e)*0.5;if(gO>gN){gL.a=1;gL.b=e/gJ;gL.c/=gJ}else{gL.b=1;gL.a=gJ/e;gL.c/=e}return gL},intersect:function(gM,gL){var gR=gM.edge,gQ=gL.edge;if(!gR||!gQ||gR.region.r==gQ.region.r){return null}var gP=gR.a*gQ.b-gR.b*gQ.a;if(Math.abs(gP)<1e-10){return null}var gK=(gR.c*gQ.b-gQ.c*gR.b)/gP,gU=(gQ.c*gR.a-gR.c*gQ.a)/gP,gT=gR.region.r,gO=gQ.region.r,gJ,gN;if(gT.y<gO.y||gT.y==gO.y&&gT.x<gO.x){gJ=gM;gN=gR}else{gJ=gL;gN=gQ}var gS=gK>=gN.region.r.x;if(gS&&gJ.side==="l"||!gS&&gJ.side==="r"){return null}return{x:gK,y:gU}},rightOf:function(gO,gJ){var gS=gO.edge,gM=gS.region.r,gV=gJ.x>gM.x;if(gV&&gO.side==="l"){return 1}if(!gV&&gO.side==="r"){return 0}if(gS.a===1){var gU=gJ.y-gM.y,gK=gJ.x-gM.x,gP=0,gT=0;if(!gV&&gS.b<0||gV&&gS.b>=0){gT=gP=gU>=gS.b*gK}else{gT=gJ.x+gJ.y*gS.b>gS.c;if(gS.b<0){gT=!gT}if(!gT){gP=1}}if(!gP){var gW=gM.x-gS.region.l.x;gT=gS.b*(gK*gK-gU*gU)<gW*gU*(1+2*gK/gW+gS.b*gS.b);if(gS.b<0){gT=!gT}}}else{var gL=gS.c-gS.a*gJ.x,gR=gJ.y-gL,gQ=gJ.x-gM.x,gN=gL-gM.y;gT=gR*gR>gQ*gQ+gN*gN}return gO.side==="l"?gT:!gT},endPoint:function(gK,gJ,e){gK.ep[gJ]=e;if(!gK.ep[cu[gJ]]){return}gr(gK)},distance:function(gL,gK){var gJ=gL.x-gK.x,e=gL.y-gK.y;return Math.sqrt(gJ*gJ+e*e)}};var d3={list:[],insert:function(gN,gJ,gO){gN.vertex=gJ;gN.ystar=gJ.y+gO;for(var gK=0,gM=d3.list,e=gM.length;gK<e;gK++){var gL=gM[gK];if(gN.ystar>gL.ystar||gN.ystar==gL.ystar&&gJ.x>gL.vertex.x){continue}else{break}}gM.splice(gK,0,gN)},del:function(gL){for(var gK=0,gJ=d3.list,e=gJ.length;gK<e&&gJ[gK]!=gL;++gK){}gJ.splice(gK,1)},empty:function(){return d3.list.length===0},nextEvent:function(gL){for(var gK=0,gJ=d3.list,e=gJ.length;gK<e;++gK){if(gJ[gK]==gL){return gJ[gK+1]}}return null},min:function(){var e=d3.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return d3.list.shift()}};gq.init();gH.bottomSite=gH.list.shift();var gI=gH.list.shift(),gv;var gA,gx,gs,gE,gu;var gy,gz,gF,gB,gw;var gD,gC;while(true){if(!d3.empty()){gv=d3.min()}if(gI&&(d3.empty()||gI.y<gv.y||gI.y==gv.y&&gI.x<gv.x)){gA=gq.leftBound(gI);gx=gq.right(gA);gy=gq.rightRegion(gA);gD=gG.bisect(gy,gI);gu=gq.createHalfEdge(gD,"l");gq.insert(gA,gu);gB=gG.intersect(gA,gu);if(gB){d3.del(gA);d3.insert(gA,gB,gG.distance(gB,gI))}gA=gu;gu=gq.createHalfEdge(gD,"r");gq.insert(gA,gu);gB=gG.intersect(gu,gx);if(gB){d3.insert(gu,gB,gG.distance(gB,gI))}gI=gH.list.shift()}else{if(!d3.empty()){gA=d3.extractMin();gs=gq.left(gA);gx=gq.right(gA);gE=gq.right(gx);gy=gq.leftRegion(gA);gz=gq.rightRegion(gx);gw=gA.vertex;gG.endPoint(gA.edge,gA.side,gw);gG.endPoint(gx.edge,gx.side,gw);gq.del(gA);d3.del(gx);gq.del(gx);gC="l";if(gy.y>gz.y){gF=gy;gy=gz;gz=gF;gC="r"}gD=gG.bisect(gy,gz);gu=gq.createHalfEdge(gD,gC);gq.insert(gs,gu);gG.endPoint(gD,cu[gC],gw);gB=gG.intersect(gs,gu);if(gB){d3.del(gs);d3.insert(gs,gB,gG.distance(gB,gy))}gB=gG.intersect(gu,gE);if(gB){d3.insert(gu,gB,gG.distance(gB,gy))}}else{break}}}for(gA=gq.right(gq.leftEnd);gA!=gq.rightEnd;gA=gq.right(gA)){gr(gA.edge)}}fK.geom.delaunay=function(d3){var e=d3.map(function(){return[]}),gq=[];fj(d3,function(gr){e[gr.region.l.index].push(d3[gr.region.r.index])});e.forEach(function(gw,gv){var gt=d3[gv],gs=gt[0],gx=gt[1];gw.forEach(function(gy){gy.angle=Math.atan2(gy[0]-gs,gy[1]-gx)});gw.sort(function(gz,gy){return gz.angle-gy.angle});for(var gu=0,gr=gw.length-1;gu<gr;gu++){gq.push([gt,gw[gu],gw[gu+1]])}});return gq};fK.geom.quadtree=function(gx,gq,gw,e,gv){var d3,gs=-1,gr=gx.length;if(arguments.length<5){if(arguments.length===3){gv=gw;e=gq;gw=gq=0}else{gq=gw=Infinity;e=gv=-Infinity;while(++gs<gr){d3=gx[gs];if(d3.x<gq){gq=d3.x}if(d3.y<gw){gw=d3.y}if(d3.x>e){e=d3.x}if(d3.y>gv){gv=d3.y}}}}var gA=e-gq,gz=gv-gw;if(gA>gz){gv=gw+gA}else{e=gq+gz}function gy(gH,gG,gD,gF,gC,gE){if(isNaN(gG.x)||isNaN(gG.y)){return}if(gH.leaf){var gB=gH.point;if(gB){if(Math.abs(gB.x-gG.x)+Math.abs(gB.y-gG.y)<0.01){gt(gH,gG,gD,gF,gC,gE)}else{gH.point=null;gt(gH,gB,gD,gF,gC,gE);gt(gH,gG,gD,gF,gC,gE)}}else{gH.point=gG}}else{gt(gH,gG,gD,gF,gC,gE)}}function gt(gF,gD,gE,gK,gC,gI){var gJ=(gE+gC)*0.5,gH=(gK+gI)*0.5,gL=gD.x>=gJ,gB=gD.y>=gH,gG=(gB<<1)+gL;gF.leaf=false;gF=gF.nodes[gG]||(gF.nodes[gG]=eq());if(gL){gE=gJ}else{gC=gJ}if(gB){gK=gH}else{gI=gH}gy(gF,gD,gE,gK,gC,gI)}var gu=eq();gu.add=function(gB){gy(gu,gB,gq,gw,e,gv)};gu.visit=function(gB){b2(gB,gu,gq,gw,e,gv)};gx.forEach(gu.add);return gu};function eq(){return{leaf:true,nodes:[],point:null}}function b2(gs,gr,d3,gw,e,gu){if(!gs(gr,d3,gw,e,gu)){var gv=(d3+e)*0.5,gt=(gw+gu)*0.5,gq=gr.nodes;if(gq[0]){b2(gs,gq[0],d3,gw,gv,gt)}if(gq[1]){b2(gs,gq[1],gv,gw,e,gt)}if(gq[2]){b2(gs,gq[2],d3,gt,gv,gu)}if(gq[3]){b2(gs,gq[3],gv,gt,e,gu)}}}fK.time={};var ep=Date,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function fu(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}fu.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){eG.setUTCDate.apply(this._,arguments)},setDay:function(){eG.setUTCDay.apply(this._,arguments)},setFullYear:function(){eG.setUTCFullYear.apply(this._,arguments)},setHours:function(){eG.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){eG.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){eG.setUTCMinutes.apply(this._,arguments)},setMonth:function(){eG.setUTCMonth.apply(this._,arguments)},setSeconds:function(){eG.setUTCSeconds.apply(this._,arguments)},setTime:function(){eG.setTime.apply(this._,arguments)}};var eG=Date.prototype;var K="%a %b %e %X %Y",dy="%m/%d/%Y",cm="%H:%M:%S";var bC=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b8=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bG=["January","February","March","April","May","June","July","August","September","October","November","December"],ap=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];fK.time.format=function(e){var gq=e.length;function d3(gt){var gs=[],gu=-1,gr=0,gx,gw,gv;while(++gu<gq){if(e.charCodeAt(gu)===37){gs.push(e.substring(gr,gu));if((gw=at[gx=e.charAt(++gu)])!=null){gx=e.charAt(++gu)}if(gv=e7[gx]){gx=gv(gt,gw==null?gx==="e"?" ":"0":gw)}gs.push(gx);gr=gu+1}}gs.push(e.substring(gr,gu));return gs.join("")}d3.parse=function(gs){var gu={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},gt=cY(gu,e,gs,0);if(gt!=gs.length){return null}if("p" in gu){gu.H=gu.H%12+gu.p*12}var gr=new ep();gr.setFullYear(gu.y,gu.m,gu.d);gr.setHours(gu.H,gu.M,gu.S,gu.L);return gr};d3.toString=function(){return e};return d3};function cY(gr,gw,gu,gs){var gv,e,gt=0,d3=gw.length,gq=gu.length;while(gt<d3){if(gs>=gq){return -1}gv=gw.charCodeAt(gt++);if(gv===37){e=f8[gw.charAt(gt++)];if(!e||(gs=e(gr,gu,gs))<0){return -1}}else{if(gv!=gu.charCodeAt(gs++)){return -1}}}return gs}function b0(e){return new RegExp("^(?:"+e.map(fK.requote).join("|")+")","i")}function fn(gq){var d3=new an(),e=-1,gr=gq.length;while(++e<gr){d3.set(gq[e].toLowerCase(),e)}return d3}function cx(gq,gr,e){gq+="";var d3=gq.length;return d3<e?new Array(e-d3+1).join(gr)+gq:gq}var fV=b0(bC),er=b0(b8),fy=b0(bG),eg=fn(bG),dD=b0(ap),dK=fn(ap);var at={"-":"",_:" ","0":"0"};var e7={a:function(e){return b8[e.getDay()]},A:function(e){return bC[e.getDay()]},b:function(e){return ap[e.getMonth()]},B:function(e){return bG[e.getMonth()]},c:fK.time.format(K),d:function(d3,e){return cx(d3.getDate(),e,2)},e:function(d3,e){return cx(d3.getDate(),e,2)},H:function(d3,e){return cx(d3.getHours(),e,2)},I:function(d3,e){return cx(d3.getHours()%12||12,e,2)},j:function(d3,e){return cx(1+fK.time.dayOfYear(d3),e,3)},L:function(d3,e){return cx(d3.getMilliseconds(),e,3)},m:function(d3,e){return cx(d3.getMonth()+1,e,2)},M:function(d3,e){return cx(d3.getMinutes(),e,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(d3,e){return cx(d3.getSeconds(),e,2)},U:function(d3,e){return cx(fK.time.sundayOfYear(d3),e,2)},w:function(e){return e.getDay()},W:function(d3,e){return cx(fK.time.mondayOfYear(d3),e,2)},x:fK.time.format(dy),X:fK.time.format(cm),y:function(d3,e){return cx(d3.getFullYear()%100,e,2)},Y:function(d3,e){return cx(d3.getFullYear()%10000,e,4)},Z:eC,"%":function(){return"%"}};var f8={a:ft,A:bV,b:aG,B:dE,c:dd,d:bn,e:bn,H:av,I:av,L:fo,m:fe,M:cb,p:fU,S:cS,x:gm,X:fb,y:H,Y:a4};function ft(d3,e,gq){er.lastIndex=0;var gr=er.exec(e.substring(gq));return gr?gq+=gr[0].length:-1}function bV(d3,e,gq){fV.lastIndex=0;var gr=fV.exec(e.substring(gq));return gr?gq+=gr[0].length:-1}function aG(d3,e,gq){dD.lastIndex=0;var gr=dD.exec(e.substring(gq));return gr?(d3.m=dK.get(gr[0].toLowerCase()),gq+=gr[0].length):-1}function dE(d3,e,gq){fy.lastIndex=0;var gr=fy.exec(e.substring(gq));return gr?(d3.m=eg.get(gr[0].toLowerCase()),gq+=gr[0].length):-1}function dd(d3,e,gq){return cY(d3,e7.c.toString(),e,gq)}function gm(d3,e,gq){return cY(d3,e7.x.toString(),e,gq)}function fb(d3,e,gq){return cY(d3,e7.X.toString(),e,gq)}function a4(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+4));return gr?(d3.y=+gr[0],gq+=gr[0].length):-1}function H(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+2));return gr?(d3.y=ci(+gr[0]),gq+=gr[0].length):-1}function ci(e){return e+(e>68?1900:2000)}function fe(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+2));return gr?(d3.m=gr[0]-1,gq+=gr[0].length):-1}function bn(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+2));return gr?(d3.d=+gr[0],gq+=gr[0].length):-1}function av(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+2));return gr?(d3.H=+gr[0],gq+=gr[0].length):-1}function cb(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+2));return gr?(d3.M=+gr[0],gq+=gr[0].length):-1}function cS(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+2));return gr?(d3.S=+gr[0],gq+=gr[0].length):-1}function fo(d3,e,gq){eI.lastIndex=0;var gr=eI.exec(e.substring(gq,gq+3));return gr?(d3.L=+gr[0],gq+=gr[0].length):-1}var eI=/^\s*\d+/;function fU(d3,e,gq){var gr=d.get(e.substring(gq,gq+=2).toLowerCase());return gr==null?-1:(d3.p=gr,gq)}var d=fK.map({am:0,pm:1});function eC(gs){var gr=gs.getTimezoneOffset(),gq=gr>0?"-":"+",d3=~~(Math.abs(gr)/60),e=Math.abs(gr)%60;return gq+cx(d3,"0",2)+cx(e,"0",2)}fK.time.format.utc=function(d3){var e=fK.time.format(d3);function gq(gr){try{ep=fu;var gs=new ep();gs._=gr;return e(gs)}finally{ep=Date}}gq.parse=function(gs){try{ep=fu;var gr=e.parse(gs);return gr&&gr._}finally{ep=Date}};gq.toString=e.toString;return gq};var cN=fK.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");fK.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?cw:cN;function cw(e){return e.toISOString()}cw.parse=function(d3){var e=new Date(d3);return isNaN(e)?null:e};cw.toString=cN.toString;function cf(gt,e,d3){function gw(gx){var gz=gt(gx),gy=gr(gz,1);return gx-gz<gy-gx?gz:gy}function gv(gx){e(gx=gt(new ep(gx-1)),1);return gx}function gr(gy,gx){e(gy=new ep(+gy),gx);return gy}function gs(gz,gy,gx){var gA=gv(gz),gB=[];if(gx>1){while(gA<gy){if(!(d3(gA)%gx)){gB.push(new Date(+gA))}e(gA,1)}}else{while(gA<gy){gB.push(new Date(+gA)),e(gA,1)}}return gB}function gq(gA,gz,gy){try{ep=fu;var gx=new fu();gx._=gA;return gs(gx,gz,gy)}finally{ep=Date}}gt.floor=gt;gt.round=gw;gt.ceil=gv;gt.offset=gr;gt.range=gs;var gu=gt.utc=cP(gt);gu.floor=gu;gu.round=cP(gw);gu.ceil=cP(gv);gu.offset=cP(gr);gu.range=gq;return gt}function cP(e){return function(gq,d3){try{ep=fu;var gr=new fu();gr._=gq;return e(gr,d3)._}finally{ep=Date}}}fK.time.second=cf(function(e){return new ep(Math.floor(e/1000)*1000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*1000)},function(e){return e.getSeconds()});fK.time.seconds=fK.time.second.range;fK.time.seconds.utc=fK.time.second.utc.range;fK.time.minute=cf(function(e){return new ep(Math.floor(e/60000)*60000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*60000)},function(e){return e.getMinutes()});fK.time.minutes=fK.time.minute.range;fK.time.minutes.utc=fK.time.minute.utc.range;fK.time.hour=cf(function(e){var d3=e.getTimezoneOffset()/60;return new ep((Math.floor(e/3600000-d3)+d3)*3600000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*3600000)},function(e){return e.getHours()});fK.time.hours=fK.time.hour.range;fK.time.hours.utc=fK.time.hour.utc.range;fK.time.day=cf(function(d3){var e=new ep(1970,0);e.setFullYear(d3.getFullYear(),d3.getMonth(),d3.getDate());return e},function(e,d3){e.setDate(e.getDate()+d3)},function(e){return e.getDate()-1});fK.time.days=fK.time.day.range;fK.time.days.utc=fK.time.day.utc.range;fK.time.dayOfYear=function(e){var d3=fK.time.year(e);return Math.floor((e-d3-(e.getTimezoneOffset()-d3.getTimezoneOffset())*60000)/86400000)};o.forEach(function(d3,gq){d3=d3.toLowerCase();gq=7-gq;var e=fK.time[d3]=cf(function(gr){(gr=fK.time.day(gr)).setDate(gr.getDate()-(gr.getDay()+gq)%7);return gr},function(gr,gs){gr.setDate(gr.getDate()+Math.floor(gs)*7)},function(gs){var gr=fK.time.year(gs).getDay();return Math.floor((fK.time.dayOfYear(gs)+(gr+gq)%7)/7)-(gr!==gq)});fK.time[d3+"s"]=e.range;fK.time[d3+"s"].utc=e.utc.range;fK.time[d3+"OfYear"]=function(gs){var gr=fK.time.year(gs).getDay();return Math.floor((fK.time.dayOfYear(gs)+(gr+gq)%7)/7)}});fK.time.week=fK.time.sunday;fK.time.weeks=fK.time.sunday.range;fK.time.weeks.utc=fK.time.sunday.utc.range;fK.time.weekOfYear=fK.time.sundayOfYear;fK.time.month=cf(function(e){e=fK.time.day(e);e.setDate(1);return e},function(e,d3){e.setMonth(e.getMonth()+d3)},function(e){return e.getMonth()});fK.time.months=fK.time.month.range;fK.time.months.utc=fK.time.month.utc.range;fK.time.year=cf(function(e){e=fK.time.day(e);e.setMonth(0,1);return e},function(e,d3){e.setFullYear(e.getFullYear()+d3)},function(e){return e.getFullYear()});fK.time.years=fK.time.year.range;fK.time.years.utc=fK.time.year.utc.range;function aW(e,d3,gq){function gr(gs){return e(gs)}gr.invert=function(gs){return eF(e.invert(gs))};gr.domain=function(gs){if(!arguments.length){return e.domain().map(eF)}e.domain(gs);return gr};gr.nice=function(gs){return gr.domain(eV(gr.domain(),function(){return gs}))};gr.ticks=function(gs,gt){var gw=ez(gr.domain());if(typeof gs!=="function"){var gv=gw[1]-gw[0],gx=gv/gs,gu=fK.bisect(dU,gx);if(gu==dU.length){return d3.year(gw,gs)}if(!gu){return e.ticks(gs).map(eF)}if(Math.log(gx/dU[gu-1])<Math.log(dU[gu]/gx)){--gu}gs=d3[gu];gt=gs[1];gs=gs[0].range}return gs(gw[0],new Date(+gw[1]+1),gt)};gr.tickFormat=function(){return gq};gr.copy=function(){return aW(e.copy(),d3,gq)};return fK.rebind(gr,e,"range","rangeRound","interpolate","clamp")}function ez(d3){var gq=d3[0],e=d3[d3.length-1];return gq<e?[gq,e]:[e,gq]}function eF(e){return new Date(e)}function ca(e){return function(d3){var gq=e.length-1,gr=e[gq];while(!gr[1](d3)){gr=e[--gq]}return gr[0](d3)}}function cV(d3){var e=new Date(d3,0,1);e.setFullYear(d3);return e}function fx(gq){var gr=gq.getFullYear(),d3=cV(gr),e=cV(gr+1);return gr+(gq-d3)/(e-d3)}var dU=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var bU=[[fK.time.second,1],[fK.time.second,5],[fK.time.second,15],[fK.time.second,30],[fK.time.minute,1],[fK.time.minute,5],[fK.time.minute,15],[fK.time.minute,30],[fK.time.hour,1],[fK.time.hour,3],[fK.time.hour,6],[fK.time.hour,12],[fK.time.day,1],[fK.time.day,2],[fK.time.week,1],[fK.time.month,1],[fK.time.month,3],[fK.time.year,1]];var eh=[[fK.time.format("%Y"),W],[fK.time.format("%B"),function(e){return e.getMonth()}],[fK.time.format("%b %d"),function(e){return e.getDate()!=1}],[fK.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[fK.time.format("%I %p"),function(e){return e.getHours()}],[fK.time.format("%I:%M"),function(e){return e.getMinutes()}],[fK.time.format(":%S"),function(e){return e.getSeconds()}],[fK.time.format(".%L"),function(e){return e.getMilliseconds()}]];var bR=fK.scale.linear(),M=ca(eh);bU.year=function(d3,e){return bR.domain(d3.map(fx)).ticks(e).map(cV)};fK.time.scale=function(){return aW(fK.scale.linear(),bU,M)};var gc=bU.map(function(e){return[e[0].utc,e[1]]});var by=[[fK.time.format.utc("%Y"),W],[fK.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[fK.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[fK.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[fK.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[fK.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[fK.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[fK.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]];var dJ=ca(by);function cj(d3){var e=new Date(Date.UTC(d3,0,1));e.setUTCFullYear(d3);return e}function eT(gq){var gr=gq.getUTCFullYear(),d3=cj(gr),e=cj(gr+1);return gr+(gq-d3)/(e-d3)}gc.year=function(d3,e){return bR.domain(d3.map(eT)).ticks(e).map(cj)};fK.time.scale.utc=function(){return aW(fK.scale.linear(),gc,dJ)};return fK}]);"use strict";angular.module("d3").config(["$provide",function(b){var a=function(c){var d=c;(function(A){function j(){var P=[256,256],N=u,D=v,O=f,G=n,L=n,H=w,M=q,I=x,K=[],J=Infinity,B=d.dispatch("word","end"),C=null,E={};E.start=function(){var S=p((P[0]>>5)*P[1]),U=null,W=K.length,R=-1,Q=[],V=K.map(function(Y,X){Y.text=N.call(this,Y,X);Y.font=D.call(this,Y,X);Y.style=G.call(this,Y,X);Y.weight=L.call(this,Y,X);Y.rotate=H.call(this,Y,X);Y.size=~~O.call(this,Y,X);Y.padding=q.call(this,Y,X);return Y}).sort(function(Y,X){return X.size-Y.size});if(C){clearInterval(C)}C=setInterval(T,0);T();return E;function T(){var Y=+new Date(),X;while(+new Date()-Y<J&&++R<W&&C){X=V[R];X.x=P[0]*(Math.random()+0.5)>>1;X.y=P[1]*(Math.random()+0.5)>>1;t(X,V,R);if(F(S,X,U)){Q.push(X);B.word(X);if(U){l(U,X)}else{U=[{x:X.x+X.x0,y:X.y+X.y0},{x:X.x+X.x1,y:X.y+X.y1}]}X.x-=P[0]>>1;X.y-=P[1]>>1}}if(R>=W){E.stop();B.end(Q,U)}}};E.stop=function(){if(C){clearInterval(C);C=null}return E};E.timeInterval=function(Q){if(!arguments.length){return J}J=Q==null?Infinity:Q;return E};function F(U,an,T){var R=[{x:0,y:0},{x:P[0],y:P[1]}],al=an.x,ak=an.y,Q=Math.sqrt(P[0]*P[0]+P[1]*P[1]),ab=I(P),ac=Math.random()<0.5?1:-1,aa=-ac,ah,Z,X;while(ah=ab(aa+=ac)){Z=~~ah[0];X=~~ah[1];if(Math.min(Z,X)>Q){break}an.x=al+Z;an.y=ak+X;if(an.x+an.x0<0||an.y+an.y0<0||an.x+an.x1>P[0]||an.y+an.y1>P[1]){continue}if(!T||!m(an,U,P[0])){if(!T||i(an,T)){var af=an.sprite,Y=an.width>>5,ae=P[0]>>5,S=an.x-(Y<<4),ad=S&127,am=32-ad,aj=an.y1-an.y0,W=(an.y+an.y0)*ae+(S>>5),V;for(var ag=0;ag<aj;ag++){V=0;for(var ai=0;ai<=Y;ai++){U[W+ai]|=V<<am|(ai<Y?(V=af[ag*Y+ai])>>>ad:0)}W+=ae}delete an.sprite;return true}}}return false}E.words=function(Q){if(!arguments.length){return K}K=Q;return E};E.size=function(Q){if(!arguments.length){return P}P=[+Q[0],+Q[1]];return E};E.font=function(Q){if(!arguments.length){return D}D=d.functor(Q);return E};E.fontStyle=function(Q){if(!arguments.length){return G}G=d.functor(Q);return E};E.fontWeight=function(Q){if(!arguments.length){return L}L=d.functor(Q);return E};E.rotate=function(Q){if(!arguments.length){return H}H=d.functor(Q);return E};E.text=function(Q){if(!arguments.length){return N}N=d.functor(Q);return E};E.spiral=function(Q){if(!arguments.length){return I}I=e[Q+""]||Q;return E};E.fontSize=function(Q){if(!arguments.length){return O}O=d.functor(Q);return E};E.padding=function(Q){if(!arguments.length){return M}M=d.functor(Q);return E};return d.rebind(E,B,"on")}function u(B){return B.text}function v(){return"serif"}function n(){return"normal"}function f(B){return Math.sqrt(B.value)}function w(){return(~~(Math.random()*6)-3)*30}function q(){return 1}function t(Y,Z,W){if(Y.sprite){return}y.clearRect(0,0,(h<<5)/k,o/k);var H=0,G=0,J=0,O=Z.length;W--;while(++W<O){Y=Z[W];y.save();y.font=Y.style+" "+Y.weight+" "+~~((Y.size+1)/k)+"px "+Y.font;var I=y.measureText(Y.text+"m").width*k,V=Y.size<<1;if(Y.rotate){var R=Math.sin(Y.rotate*z),F=Math.cos(Y.rotate*z),C=I*F,K=I*R,X=V*F,E=V*R;I=Math.max(Math.abs(C+E),Math.abs(C-E))+31>>5<<5;V=~~Math.max(Math.abs(K+X),Math.abs(K-X))}else{I=I+31>>5<<5}if(V>J){J=V}if(H+I>=h<<5){H=0;G+=J;J=0}if(G+V>=o){break}y.translate((H+(I>>1))/k,(G+(V>>1))/k);if(Y.rotate){y.rotate(Y.rotate*z)}y.fillText(Y.text,0,0);y.restore();Y.width=I;Y.height=V;Y.xoff=H;Y.yoff=G;Y.x1=I>>1;Y.y1=V>>1;Y.x0=-Y.x1;Y.y0=-Y.y1;H+=I}var L=y.getImageData(0,0,(h<<5)/k,o/k).data,N=[];while(--W>=0){Y=Z[W];var I=Y.width,D=I>>5,V=Y.y1-Y.y0,M=Y.padding;for(var U=0;U<V*D;U++){N[U]=0}H=Y.xoff;if(H==null){return}G=Y.yoff;var B=0,T=-1;for(var S=0;S<V;S++){for(var U=0;U<I;U++){var Q=D*S+(U>>5),P=L[(G+S)*(h<<5)+(H+U)<<2]?1<<31-U%32:0;if(M){if(S){N[Q-D]|=P}if(S<I-1){N[Q+D]|=P}P|=P<<1|P>>1}N[Q]|=P;B|=P}if(B){T=S}else{Y.y0++;V--;S--;G++}}Y.y1=Y.y0+T;Y.sprite=N.slice(0,(Y.y1-Y.y0)*D)}}function m(N,G,K){K>>=5;var M=N.sprite,J=N.width>>5,B=N.x-(J<<4),I=B&127,F=32-I,E=N.y1-N.y0,H=(N.y+N.y0)*K+(B>>5),L;for(var C=0;C<E;C++){L=0;for(var D=0;D<=J;D++){if((L<<F|(D<J?(L=M[C*J+D])>>>I:0))&G[H+D]){return true}}H+=K}return false}function l(D,E){var C=D[0],B=D[1];if(E.x+E.x0<C.x){C.x=E.x+E.x0}if(E.y+E.y0<C.y){C.y=E.y+E.y0}if(E.x+E.x1>B.x){B.x=E.x+E.x1}if(E.y+E.y1>B.y){B.y=E.y+E.y1}}function i(C,B){return C.x+C.x1>B[0].x&&C.x+C.x0<B[1].x&&C.y+C.y1>B[0].y&&C.y+C.y0<B[1].y}function x(B){var C=B[0]/B[1];return function(D){return[C*(D*=0.1)*Math.cos(D),D*Math.sin(D)]}}function s(E){var C=4,D=C*E[0]/E[1],B=0,F=0;return function(H){var G=H<0?-1:1;switch(Math.sqrt(1+4*G*H)-G&3){case 0:B+=D;break;case 1:F+=C;break;case 2:B-=D;break;default:F-=C;break}return[B,F]}}function p(D){var B=[],C=-1;while(++C<D){B[C]=0}return B}var z=Math.PI/180,h=1<<11>>5,o=1<<11,g,k=1;if(typeof document!=="undefined"){g=document.createElement("canvas");g.width=1;g.height=1;k=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(h<<5)/k;g.height=o/k}else{var r=require("canvas");g=new r(h<<5,o)}var y=g.getContext("2d"),e={archimedean:x,rectangular:s};y.fillStyle="red";y.textAlign="center";A.cloud=j}(typeof exports==="undefined"?d.layout||(d.layout={}):exports));return d};b.decorator("d3",a)}]);"use strict";angular.module("d3").directive("wordcloud",["d3",function(b){return{restrict:"E",scope:{width:"@",height:"@",fontFamily:"@",fontSize:"@",words:"=",onClick:"&",onHover:"&"},link:function a(k,d,i){var c=800;var j=600;var g="Impact";var l=100;var f;if(angular.isDefined(i.width)){c=i.width}if(angular.isDefined(i.height)){j=i.height}if(angular.isDefined(i.fontFamily)){g=i.fontFamily}if(angular.isDefined(i.fontSize)){l=i.fontSize*1||0}if(angular.isDefined(k.words)){f=k.words}if(angular.isDefined(k.words)&&angular.isArray(f)){f=k.words}else{if(angular.element(d).find("word").length>0){var e=angular.element(d).find("word");f=[];angular.forEach(e,function(m){f.push(angular.element(m).text());angular.element(m).remove()})}else{if(d.text().length>0){f=d.text().split(",");d.text("")}else{d.text("wordcloud: Please define some words");return}}}if(!angular.isNumber(l)||l<=0){d.text("wordcloud: font-size attribute not valid. font-size "+i.fontSize+" -> "+l);return}var h=function(o){var n=b.scale.category20();b.layout.cloud().size([c,j]).words(o.map(function(p){return{text:p,size:Math.random()*l}})).rotate(function(){return ~~(Math.random()*2)*-90}).font(g).fontSize(function(p){return p.size}).on("end",m).start();function m(s){var r=j/2;var q=c/2;var p=d[0];b.select(p).append("svg").attr("width",c).attr("height",j).append("g").attr("transform","translate("+q+","+r+")").selectAll("text").data(s).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family",g).style("fill",function(u,t){return n(t)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text}).on("click",function(t){k.onClick({element:t})}).on("mouseover",function(t){k.onHover({element:t})})}};h(f)}}}]);"use strict";angular.module("d3").config(["$provide",function(b){var a=function(c){var d=c;(function(){d.horizon=function(){var k=1,o="offset",p="linear",r=g,q=f,s=960,n=40,m=0;var l=d.scale.linear().domain([-1,0,1]).range(["#d62728","#fff","#1f77b4"]);function j(t){t.each(function(H){var F=d.select(this),y=Infinity,D=-Infinity,A=-Infinity,z,J,G,x;var C=H.map(function(O,N){var L=r.call(this,O,N),M=q.call(this,O,N);if(L<y){y=L}if(L>D){D=L}if(-M>A){A=-M}if(M>A){A=M}return[L,M]});var w=d.scale.linear().domain([y,D]).range([0,s]),I=d.scale.linear().domain([0,A]).range([0,n*k]),E=h(k,n,o);if(this.__chart__){z=this.__chart__.x;J=this.__chart__.y;G=this.__chart__.t;x=this.__chart__.id}else{z=w.copy();J=I.copy();G=E;x=++i}var B=F.selectAll("defs").data([null]);B.enter().append("defs").append("clipPath").attr("id","d3_horizon_clip"+x).append("rect").attr("width",s).attr("height",n);B.select("rect").transition().duration(m).attr("width",s).attr("height",n);F.selectAll("g").data([null]).enter().append("g").attr("clip-path","url(#d3_horizon_clip"+x+")");var K=F.select("g").selectAll("path").data(d.range(-1,-k-1,-1).concat(d.range(1,k+1)),Number);var v=e.interpolate(p).x(function(L){return z(L[0])}).y0(n*k).y1(function(L){return n*k-J(L[1])})(C);var u=e.x(function(L){return w(L[0])}).y1(function(L){return n*k-I(L[1])})(C);K.enter().append("path").style("fill",l).attr("transform",G).attr("d",v);K.transition().duration(m).style("fill",l).attr("transform",E).attr("d",u);K.exit().transition().duration(m).attr("transform",E).attr("d",u).remove();this.__chart__={x:w,y:I,t:E,id:x}});d.timer.flush()}j.duration=function(t){if(!arguments.length){return m}m=+t;return j};j.bands=function(t){if(!arguments.length){return k}k=+t;l.domain([-k,0,k]);return j};j.mode=function(t){if(!arguments.length){return o}o=t+"";return j};j.colors=function(t){if(!arguments.length){return l.range()}l.range(t);return j};j.interpolate=function(t){if(!arguments.length){return p}p=t+"";return j};j.x=function(t){if(!arguments.length){return r}r=t;return j};j.y=function(t){if(!arguments.length){return q}q=t;return j};j.width=function(t){if(!arguments.length){return s}s=+t;return j};j.height=function(t){if(!arguments.length){return n}n=+t;return j};return j};var e=d.svg.area(),i=0;function g(j){return j[0]}function f(j){return j[1]}function h(k,j,l){return l=="offset"?function(m){return"translate(0,"+(m+(m<0)-k)*j+")"}:function(m){return(m<0?"scale(1,-1)":"")+"translate(0,"+(m-k)*j+")"}}}());return d};b.decorator("d3",a)}]);"use strict";angular.module("d3").directive("horizonChart",["d3",function(b){return{restrict:"E",scope:{width:"@",height:"@",fixBands:"@",mode:"@",data:"=",bands:"=",onClick:"&",onHover:"&"},link:function a(c,e,o){var p=800;var m=600;var j=1;var i="mirror";var f="basic";var g,t;var n,k;if(angular.isDefined(o.width)){p=o.width}if(angular.isDefined(o.height)){m=o.height}if(angular.isDefined(o.fixBands)){j=o.fixBands*1||0}if(angular.isDefined(o.mode)){i=o.mode}if(angular.isDefined(o.interpolate)){f=o.interpolate}if(angular.isDefined(c.data)){t=c.data}if(angular.isDefined(c.bands)){g=c.bands}if(angular.isUndefined(g)){g=j}var l=function(u){return u.value.map(function(w,v){return[v,w]})};var q=function(u){return u.value.map(function(w,v){return[u.timestamp[v],w]})};var d=function(u){if(angular.isDefined(u)&&angular.isDefined(u.value)&&angular.isDefined(u.timestamp)){u=q(u)}else{if(angular.isDefined(u)&&angular.isDefined(u.value)){u=l(u)}else{u=l({value:[]})}}return u};var s=function(v){var u=e[0];n=b.select(u).append("svg").attr("width",p).attr("height",m);k=b.horizon().width(p).height(m).bands(g).mode(i).interpolate(f);n.data([d(v)]).call(k)};s(t);var h=function(){k.bands(c.bands);n.data([d(t)]).call(k)};var r=true;c.$watch("bands",h,r);c.$watch("data",h,r)}}}]);